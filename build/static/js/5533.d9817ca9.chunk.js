"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5533],{4014:function(e,n,i){function l(e){var n,i,l=null===e||void 0===e?void 0:e.slice(0,1),s=null===e||void 0===e?void 0:e.lastIndexOf("@"),d=null===e||void 0===e?void 0:e.slice(1,s-1);d=null===(n=d)||void 0===n?void 0:n.replace(/./g,"*");var t=null===e||void 0===e?void 0:e.slice(s-1,e.length);return null===l||void 0===l||null===(i=l.concat(d))||void 0===i?void 0:i.concat(t)}i.d(n,{Z:function(){return l}})},89281:function(e,n,i){i.d(n,{h:function(){return x}});var l=i(1413),s=i(29439),d=i(45987),t=i(47313),o=i(12279),r=i.n(o),a=i(74294),c=i(72652),u=i(46417),v=["fetchOptions","debounceTimeout","onClear"],x=function(e){var n=e.fetchOptions,i=e.debounceTimeout,o=void 0===i?400:i,x=e.onClear,m=(0,d.Z)(e,v),h=(0,t.useState)(!1),j=(0,s.Z)(h,2),p=j[0],f=j[1],Z=(0,t.useState)([]),y=(0,s.Z)(Z,2),g=y[0],b=y[1],N=(0,t.useMemo)((function(){return r()((function(e){b([]),f(!0),n(e).then((function(e){b(e),f(!1)}))}),o)}),[n,o]);return(0,u.jsx)(a.Z,(0,l.Z)((0,l.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:N,onClear:function(){N(""),x&&x()},notFoundContent:p?(0,u.jsx)(c.Z,{size:"small"}):"no results"},m),{},{options:g,onFocus:function(){N("")}}))}},17649:function(e,n,i){i.d(n,{Z:function(){return l}});i(97421);function l(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,i){function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";if(!e)return"0";var i=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return n+" "+i}i.d(n,{Z:function(){return l}})},65533:function(e,n,i){i.r(n),i.d(n,{default:function(){return Q}});var l=i(1413),s=i(29439),d=i(47313),t=i(45705),o=i(37388),r=i(26824),a=i(77181),c=i(59491),u=i(68197),v=i(59624),x=i(56140),m=i(14133),h=i(83999),j=i(72652),p=i(66204),f=i(78508),Z=i(45334),y=i(41068),g=i(49959),b=i(89720),N=i(12019),_=i(97890),w=i(29466),k=i(62412),C=i(45464),S=i(2717),I=i(90954),Y=i(27107),D=i(88852),q=i(94291),z=i(24511),M=i(84017),F=i(40197),B=i(72944),H=i(58821),U=i(22539),T=i(97421),A=i(5958),V=i(32916),G=i(3394),L=i(70816),O=i.n(L),$=i(79492),E=i(4014),P=i(46417);function Q(){var e,n,i,L,Q,R,J,K,W,X,ee,ne,ie,le,se,de,te,oe,re,ae,ce,ue,ve,xe,me,he,je,pe,fe,Ze,ye,ge,be,Ne,_e,we,ke,Ce,Se,Ie,Ye,De=(0,S.v9)((function(e){return e.menu}),S.wU).activeMenu,qe=(0,S.v9)((function(e){return e.currency}),S.wU).defaultCurrency,ze=(0,S.v9)((function(e){return e.orderStatus}),S.wU).statusList,Me=null===De||void 0===De||null===(e=De.data)||void 0===e?void 0:e.data,Fe=(0,z.$)().t,Be=(0,_.UO)().id,He=(0,S.I0)(),Ue=(0,d.useRef)(),Te=(0,d.useRef)(),Ae=(0,$.Z)().isDemo,Ve=(0,d.useState)(!1),Ge=(0,s.Z)(Ve,2),Le=Ge[0],Oe=Ge[1],$e=(0,d.useState)(null),Ee=(0,s.Z)($e,2),Pe=Ee[0],Qe=Ee[1],Re=(0,d.useState)(null),Je=(0,s.Z)(Re,2),Ke=Je[0],We=Je[1],Xe=(0,d.useState)(null),en=(0,s.Z)(Xe,2),nn=en[0],ln=en[1],sn=(0,S.v9)((function(e){return e.myShop}),S.wU).myShop,dn=[{title:Fe("id"),dataIndex:"id",key:"id",render:function(e,n){var i;return null===(i=n.stock)||void 0===i?void 0:i.id}},{title:Fe("product.name"),dataIndex:"product",key:"product",render:function(e,n){var i,l,s;return(0,P.jsxs)(t.Z,{direction:"vertical",className:"relative",children:[null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title,!!n.note&&(0,P.jsx)(o.Z,{title:n.note,className:"product-note",children:(0,P.jsx)(g.Z,{})})]})}},{title:Fe("image"),dataIndex:"img",key:"img",render:function(e,n){var i,l;return(0,P.jsx)(r.Z,{src:(0,C.Z)(null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l?void 0:l.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:Fe("price"),dataIndex:"origin_price",key:"origin_price",render:function(e){return(0,M.Z)(e,null===qe||void 0===qe?void 0:qe.symbol)}},{title:Fe("quantity"),dataIndex:"quantity",key:"quantity",render:function(e,n){var i,l,s,d,t,o;return(0,P.jsxs)("span",{children:[n.quantity*((null===n||void 0===n||null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l?void 0:l.interval)||1),null===n||void 0===n||null===(s=n.stock)||void 0===s||null===(d=s.product)||void 0===d||null===(t=d.unit)||void 0===t||null===(o=t.translation)||void 0===o?void 0:o.title]})}},{title:Fe("discount"),dataIndex:"discount",key:"discount",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return(0,M.Z)(e/n.quantity,null===qe||void 0===qe?void 0:qe.symbol)}},{title:Fe("tax"),dataIndex:"tax",key:"tax",render:function(e,n){return(0,M.Z)(e/n.quantity,null===qe||void 0===qe?void 0:qe.symbol)}},{title:Fe("total.price"),dataIndex:"total_price",key:"total_price",render:function(e,n){var i,l=e+(null===n||void 0===n||null===(i=n.addons)||void 0===i?void 0:i.reduce((function(e,n){return e+n.total_price}),0));return(0,M.Z)(l,null===qe||void 0===qe?void 0:qe.symbol)}}],tn=[{title:Fe("date"),dataIndex:"date",key:"date",render:function(e,n){return O()(null===n||void 0===n?void 0:n.date).format("YYYY-MM-DD HH:mm")}},{title:Fe("document"),dataIndex:"document",key:"document"},{title:Fe("number"),dataIndex:"number",key:"number"},{title:Fe("total.price"),dataIndex:"price",key:"price"}],on=[{price:(0,M.Z)(null===Me||void 0===Me?void 0:Me.total_price,qe.symbol),number:(0,P.jsxs)(w.rU,{to:"/seller/generate-invoice/".concat(null===Me||void 0===Me?void 0:Me.id),children:["#",null===Me||void 0===Me?void 0:Me.id]}),document:Fe("invoice"),date:O()(null===Me||void 0===Me||null===(n=Me.transaction)||void 0===n?void 0:n.created_at).format("YYYY-MM-DD HH:mm")},{price:"-",number:(0,P.jsxs)(w.rU,{to:"/seller/generate-invoice/".concat(null===Me||void 0===Me?void 0:Me.id),children:["#",null===Me||void 0===Me?void 0:Me.id]}),document:Fe("delivery.reciept"),date:O()(null===Me||void 0===Me||null===(i=Me.transaction)||void 0===i?void 0:i.created_at).format("YYYY-MM-DD HH:mm")}],rn=function(){Qe(null),We(null),ln(null)};(0,d.useEffect)((function(){var e={shop_id:sn.id};De.refetch&&(Oe(!0),k.Z.getById(Be).then((function(e){var n=e.data,i=n.currency,s=n.user,d=n.id,t=n.price,o=n.created_at,r=n.details.map((function(e){var n,i;return(0,l.Z)((0,l.Z)({},e),{},{title:null===(n=e.shop)||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title})}));He((0,I.nc)({activeMenu:De,data:{details:r,currency:i,user:s,id:d,createdAt:o,price:t,data:n}}))})).finally((function(){Oe(!1),He((0,I.A_)(De))})),He((0,F.ZL)()),He((0,q.EH)(e)))}),[De.refetch]);return(0,P.jsxs)("div",{className:"order_details",children:[(0,P.jsx)(a.Z,{className:"order-details-info",title:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(V.Qyq,{className:"mr-2 icon"}),"".concat(Fe("order")," ").concat(null!==Me&&void 0!==Me&&Me.id?"#".concat(null===Me||void 0===Me?void 0:Me.id," "):"")," ",Fe("from.order")," ",null===Me||void 0===Me||null===(L=Me.user)||void 0===L?void 0:L.firstname," ",(null===Me||void 0===Me||null===(Q=Me.user)||void 0===Q?void 0:Q.lastname)||""]}),extra:"delivered"!==(null===Me||void 0===Me?void 0:Me.status)&&"canceled"!==(null===Me||void 0===Me?void 0:Me.status)?(0,P.jsx)(t.Z,{children:"delivered"!==(null===Me||void 0===Me?void 0:Me.status)&&"canceled"!==(null===Me||void 0===Me?void 0:Me.status)?(0,P.jsx)(c.Z,{type:"primary",onClick:function(){return Qe(Me)},children:Fe("change.status")}):null}):""}),(0,P.jsxs)(u.Z,{gutter:24,children:[(0,P.jsx)(v.Z,{span:24,children:(0,P.jsx)(a.Z,{children:(0,P.jsxs)(t.Z,{className:"justify-content-between w-100",children:[(0,P.jsxs)(t.Z,{className:"align-items-start",children:[(0,P.jsx)(b.Z,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:Fe("delivery.date")}),Le?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsxs)(x.Z.Text,{className:"order-card-title",children:[null===Me||void 0===Me?void 0:Me.delivery_date," ",null===Me||void 0===Me?void 0:Me.delivery_time]})]})]}),(0,P.jsxs)(t.Z,{className:"align-items-start",onClick:function(){return Ue.current.scrollIntoView({behavior:"smooth"})},children:[(0,P.jsx)(A.iFN,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:Fe("total.price")}),Le?(0,P.jsx)(m.Z.Button,{size:16,loading:Le}):(0,P.jsx)(x.Z.Text,{className:"order-card-title",children:(0,M.Z)(null===Me||void 0===Me?void 0:Me.total_price,null===qe||void 0===qe?void 0:qe.symbol)})]})]}),(0,P.jsxs)(t.Z,{className:"align-items-start",children:[(0,P.jsx)(A.Dij,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:Fe("messages")}),Le?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(x.Z.Text,{className:"order-card-title",children:null!==Me&&void 0!==Me&&Me.review?1:0})]})]}),(0,P.jsxs)(t.Z,{className:"align-items-start",onClick:function(){return Te.current.scrollIntoView({behavior:"smooth"})},children:[(0,P.jsx)(V.Qyq,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:Fe("products")}),Le?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(x.Z.Text,{className:"order-card-title",children:null===Me||void 0===Me||null===(R=Me.details)||void 0===R?void 0:R.reduce((function(e,n){return e+n.quantity}),0)})]})]})]})})}),"canceled"!==(null===Me||void 0===Me?void 0:Me.status)&&(0,P.jsx)(v.Z,{span:24,children:(0,P.jsx)(a.Z,{children:(0,P.jsx)(h.Z,{current:null===ze||void 0===ze?void 0:ze.findIndex((function(e){return e.name===(null===Me||void 0===Me?void 0:Me.status)})),children:null===ze||void 0===ze?void 0:ze.slice(0,-1).map((function(e){return(0,P.jsx)(h.Z.Step,{title:Fe(e.name)},e.id)}))})})}),(0,P.jsxs)(v.Z,{span:16,children:[(0,P.jsx)(j.Z,{spinning:Le,children:(0,P.jsx)(a.Z,{style:{minHeight:"200px"},children:(0,P.jsxs)(u.Z,{hidden:Le,className:"mb-3 order_detail",children:[(0,P.jsxs)(v.Z,{span:12,children:[(0,P.jsxs)("div",{children:[Fe("created.date.&.time"),":",(0,P.jsxs)("span",{className:"ml-2",children:[(0,P.jsx)(H.yoA,{className:"mr-1"})," ",O()(null===Me||void 0===Me?void 0:Me.created_at).format("YYYY-MM-DD HH:mm")," "]})]}),(0,P.jsx)("br",{}),"dine_in"===(null===Me||void 0===Me?void 0:Me.delivery_type)&&(0,P.jsxs)("div",{children:[Fe("table"),":",(0,P.jsx)("span",{className:"ml-2",children:null===Me||void 0===Me||null===(J=Me.table)||void 0===J?void 0:J.name})]}),"dine_in"!==(null===Me||void 0===Me?void 0:Me.delivery_type)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{children:[Fe("delivery.date.&.time"),":",(0,P.jsxs)("span",{className:"ml-2",children:[(0,P.jsx)(H.yoA,{className:"mr-1"})," ",null===Me||void 0===Me?void 0:Me.delivery_date," ",null===Me||void 0===Me?void 0:Me.delivery_time]})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[Fe("payment.status"),":",(0,P.jsx)("span",{className:"ml-2",children:Fe(null===Me||void 0===Me||null===(K=Me.transaction)||void 0===K?void 0:K.status)})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[Fe("house"),":",(0,P.jsx)("span",{className:"ml-2",children:Fe(null===Me||void 0===Me||null===(W=Me.address)||void 0===W?void 0:W.house)})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[Fe("floor"),":",(0,P.jsx)("span",{className:"ml-2",children:Fe(null===Me||void 0===Me||null===(X=Me.address)||void 0===X?void 0:X.floor)})]}),(0,P.jsxs)(p.Z,{className:"map_show mt-3",onClick:function(){return ln(Be)},children:[(0,P.jsx)(U.$0r,{})," ",Fe("show.locations")]})]})]}),(0,P.jsxs)(v.Z,{span:12,children:[(0,P.jsxs)("div",{children:[Fe("status"),":",(0,P.jsx)("span",{className:"ml-2",children:"new"===(null===Me||void 0===Me?void 0:Me.status)?(0,P.jsx)(p.Z,{color:"blue",children:Fe(null===Me||void 0===Me?void 0:Me.status)}):"canceled"===(null===Me||void 0===Me?void 0:Me.status)?(0,P.jsx)(p.Z,{color:"error",children:Fe(null===Me||void 0===Me?void 0:Me.status)}):(0,P.jsx)(p.Z,{color:"cyan",children:Fe(null===Me||void 0===Me?void 0:Me.status)})})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[Fe("delivery.type"),":",(0,P.jsx)("span",{className:"ml-2",children:null===Me||void 0===Me?void 0:Me.delivery_type})]}),"dine_in"!==(null===Me||void 0===Me?void 0:Me.delivery_type)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[Fe("payment.type"),":",(0,P.jsx)("span",{className:"ml-2",children:Fe(null===Me||void 0===Me||null===(ee=Me.transaction)||void 0===ee||null===(ne=ee.payment_system)||void 0===ne?void 0:ne.tag)})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[Fe("address"),":",(0,P.jsx)("span",{className:"ml-2",children:null===Me||void 0===Me||null===(ie=Me.address)||void 0===ie?void 0:ie.address})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[Fe("office"),":",(0,P.jsx)("span",{className:"ml-2",children:null===Me||void 0===Me||null===(le=Me.address)||void 0===le?void 0:le.office})]}),(0,P.jsx)("br",{})]})]})]})})}),"dine_in"!==(null===Me||void 0===Me?void 0:Me.delivery_type)&&(0,P.jsx)(a.Z,{title:Fe("documents"),children:(0,P.jsx)(f.Z,{columns:tn,dataSource:on,pagination:!1,loading:Le})}),(0,P.jsxs)(a.Z,{className:"w-100 order-table",children:[(0,P.jsx)(f.Z,{ref:Te,scroll:{x:!0},columns:dn,dataSource:(null===(se=De.data)||void 0===se?void 0:se.details)||[],loading:Le,rowKey:function(e){return e.id},pagination:!1}),(0,P.jsxs)(t.Z,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)("span",{children:[Fe("delivery.fee"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("span",{children:[Fe("order.tax"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("span",{children:[Fe("product"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("span",{children:[Fe("discount"),":"]}),(0,P.jsx)("br",{}),(null===Me||void 0===Me?void 0:Me.coupon)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("span",{children:[Fe("coupon"),":"]}),(0,P.jsx)("br",{})]}),(0,P.jsxs)("span",{children:[Fe("service.fee"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("h3",{children:[Fe("total.price"),":"]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:(0,M.Z)(null===Me||void 0===Me?void 0:Me.delivery_fee,null===qe||void 0===qe?void 0:qe.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:(0,M.Z)(null===Me||void 0===Me?void 0:Me.tax,null===qe||void 0===qe?void 0:qe.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:(0,M.Z)(null===Me||void 0===Me?void 0:Me.origin_price,null===qe||void 0===qe?void 0:qe.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:(0,M.Z)(null===Me||void 0===Me?void 0:Me.total_discount,null===qe||void 0===qe?void 0:qe.symbol)}),(0,P.jsx)("br",{}),(null===Me||void 0===Me?void 0:Me.coupon)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{children:(0,M.Z)(null===Me||void 0===Me||null===(de=Me.coupon)||void 0===de?void 0:de.price,null===qe||void 0===qe?void 0:qe.symbol)}),(0,P.jsx)("br",{})]}),(0,P.jsx)("span",{children:(0,M.Z)(null===Me||void 0===Me?void 0:Me.service_fee,null===qe||void 0===qe?void 0:qe.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("h3",{ref:Ue,children:(0,M.Z)(null===Me||void 0===Me?void 0:Me.total_price,null===qe||void 0===qe?void 0:qe.symbol)})]})]})]})]}),(0,P.jsxs)(v.Z,{span:8,className:"order_info",children:["dine_in"!==(null===Me||void 0===Me?void 0:Me.delivery_type)&&(0,P.jsxs)(P.Fragment,{children:["dine_in"!==(null===Me||void 0===Me?void 0:Me.delivery_type)&&(0,P.jsxs)(a.Z,{title:Fe("deliveryman"),extra:"ready"===(null===Me||void 0===Me?void 0:Me.status)&&"pickup"!==(null===Me||void 0===Me?void 0:Me.delivery_type)&&(0,P.jsxs)(c.Z,{onClick:function(){return We(Me)},children:[Fe("change"),(0,P.jsx)(N.Z,{})]}),children:["new"===(null===Me||void 0===Me?void 0:Me.status)||"accepted"===(null===Me||void 0===Me?void 0:Me.status)?(0,P.jsx)("p",{children:Fe("order_status_ready")}):"","new"===(null===Me||void 0===Me?void 0:Me.status)||"accepted"===(null===Me||void 0===Me?void 0:Me.status)||null!==Me&&void 0!==Me&&Me.deliveryman?"":(0,P.jsx)("p",{children:Fe("The supplier is not assigned or delivery type pickup")}),(null===Me||void 0===Me?void 0:Me.deliveryman)&&(0,P.jsxs)(t.Z,{children:[(0,P.jsx)(Z.C,{shape:"square",size:64,src:T.bV+(null===Me||void 0===Me||null===(te=Me.deliveryman)||void 0===te?void 0:te.img)}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h5",{children:(null===Me||void 0===Me||null===(oe=Me.deliveryman)||void 0===oe?void 0:oe.firstname)+" "+(null===Me||void 0===Me||null===(re=Me.deliveryman)||void 0===re?void 0:re.lastname)}),(0,P.jsxs)("span",{className:"delivery-info",children:[(0,P.jsx)(H.lfG,{}),null===Me||void 0===Me||null===(ae=Me.deliveryman)||void 0===ae?void 0:ae.phone]}),(0,P.jsxs)("div",{className:"delivery-info",children:[(0,P.jsx)("b",{children:(0,P.jsx)(U.ixJ,{size:16})}),(0,P.jsx)("span",{children:Ae?(0,E.Z)(null===Me||void 0===Me||null===(ce=Me.deliveryman)||void 0===ce?void 0:ce.email):null===Me||void 0===Me||null===(ue=Me.deliveryman)||void 0===ue?void 0:ue.email})]})]})]})]}),!(null===Me||void 0===Me||!Me.username)&&(0,P.jsxs)(a.Z,{title:Fe("order.receiver"),children:[(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:Fe("name")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(H.HHm,{}),null===Me||void 0===Me?void 0:Me.username]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:Fe("phone")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(H.lfG,{}),null===Me||void 0===Me?void 0:Me.phone]})]})]}),(0,P.jsx)(a.Z,{children:(0,P.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Le?(0,P.jsx)(m.Z.Avatar,{size:64,shape:"square"}):(0,P.jsx)(Z.C,{shape:"square",size:64,src:null===Me||void 0===Me||null===(ve=Me.user)||void 0===ve?void 0:ve.img}),(0,P.jsx)("h5",{className:"customer-name",children:Le?(0,P.jsx)(m.Z.Button,{size:20,style:{width:70}}):(null===Me||void 0===Me||null===(xe=Me.user)||void 0===xe?void 0:xe.firstname)+" "+((null===Me||void 0===Me||null===(me=Me.user)||void 0===me?void 0:me.lastname)||"")}),(0,P.jsxs)("div",{className:"customer-info-detail",children:[(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:Fe("phone")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(H.lfG,{}),Le?(0,P.jsx)(m.Z.Button,{size:16}):(null===Me||void 0===Me||null===(he=Me.user)||void 0===he?void 0:he.phone)||"none"]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:Fe("email")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(U.ixJ,{}),Le?(0,P.jsx)(m.Z.Button,{size:16}):Ae?(0,E.Z)(null===Me||void 0===Me||null===(je=Me.user)||void 0===je?void 0:je.email):null===Me||void 0===Me||null===(pe=Me.user)||void 0===pe?void 0:pe.email]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:Fe("registration.date")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(H.yoA,{}),Le?(0,P.jsx)(m.Z.Button,{size:16}):O()(null===Me||void 0===Me||null===(fe=Me.user)||void 0===fe?void 0:fe.created_at).format("DD-MM-YYYY, hh:mm")]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:Fe("orders.count")}),(0,P.jsx)("span",{className:"description",children:Le?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(y.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===Me||void 0===Me||null===(Ze=Me.user)||void 0===Ze?void 0:Ze.orders_count)||0})})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:Fe("spent.since.registration")}),(0,P.jsx)("span",{className:"description",children:Le?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(y.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,M.Z)(null===Me||void 0===Me||null===(ye=Me.user)||void 0===ye?void 0:ye.orders_sum_price,null===qe||void 0===qe?void 0:qe.symbol)})})]})]})]})}),(null===Me||void 0===Me?void 0:Me.review)&&!Le&&(0,P.jsx)(a.Z,{title:Fe("messages"),children:(0,P.jsxs)("div",{className:"order-message",children:[(0,P.jsx)("span",{className:"message",children:null===Me||void 0===Me||null===(ge=Me.review)||void 0===ge?void 0:ge.comment}),(0,P.jsx)(t.Z,{className:"w-100 justify-content-end",children:(0,P.jsx)("span",{className:"date",children:O()(null===Me||void 0===Me||null===(be=Me.review)||void 0===be?void 0:be.created_at).format("YYYY-MM-DD HH:mm")})})]})})]}),(0,P.jsx)(a.Z,{title:Fe("store.information"),children:Le?(0,P.jsx)(m.Z,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,P.jsxs)(t.Z,{className:"w-100",children:[(0,P.jsx)(Z.C,{shape:"square",size:64,src:T.bV+(null===Me||void 0===Me||null===(Ne=Me.shop)||void 0===Ne?void 0:Ne.logo_img)}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h5",{children:null===Me||void 0===Me||null===(_e=Me.shop)||void 0===_e||null===(we=_e.translation)||void 0===we?void 0:we.title}),(null===Me||void 0===Me||null===(ke=Me.shop)||void 0===ke?void 0:ke.phone)&&(0,P.jsxs)("div",{className:"delivery-info",children:[(0,P.jsx)("b",{children:(0,P.jsx)(H.lfG,{})}),(0,P.jsx)("span",{children:null===Me||void 0===Me||null===(Ce=Me.shop)||void 0===Ce?void 0:Ce.phone})]}),(0,P.jsxs)("div",{className:"delivery-info my-1",children:[(0,P.jsxs)("strong",{children:[Fe("min.delivery.price"),":"]}),(0,P.jsx)("span",{children:(0,M.Z)(null===Me||void 0===Me||null===(Se=Me.shop)||void 0===Se?void 0:Se.price,null===qe||void 0===qe?void 0:qe.symbol)})]}),(0,P.jsxs)("div",{className:"delivery-info",children:[(0,P.jsx)("b",{children:(0,P.jsx)(G.CDT,{size:16})}),(0,P.jsx)("span",{children:null===Me||void 0===Me||null===(Ie=Me.shop)||void 0===Ie||null===(Ye=Ie.translation)||void 0===Ye?void 0:Ye.address})]})]})]})})]})]}),Pe&&(0,P.jsx)(Y.Z,{orderDetails:Pe,handleCancel:rn,status:ze}),Ke&&(0,P.jsx)(D.Z,{orderDetails:Ke,handleCancel:rn}),nn&&(0,P.jsx)(B.Z,{id:nn,handleCancel:rn})]})}},88852:function(e,n,i){i.d(n,{Z:function(){return f}});var l=i(29439),s=i(47313),d=i(10976),t=i(9274),o=i(59491),r=i(68197),a=i(59624),c=i(2717),u=i(62412),v=i(90954),x=i(24511),m=i(94291),h=i(89281),j=i(58328),p=i(46417);function f(e){var n,i=e.orderDetails,f=e.handleCancel,Z=(0,x.$)().t,y=(0,c.v9)((function(e){return e.menu}),c.wU).activeMenu,g=((0,c.v9)((function(e){return e.deliveryman}),c.wU).deliverymans,d.Z.useForm()),b=(0,l.Z)(g,1)[0],N=(0,c.I0)(),_=(0,s.useState)(!1),w=(0,l.Z)(_,2),k=w[0],C=w[1];(0,s.useEffect)((function(){N((0,m.EH)())}),[]);return(0,p.jsx)(t.Z,{visible:!!i,title:i.title,onCancel:f,footer:[(0,p.jsx)(o.Z,{type:"primary",onClick:function(){return b.submit()},loading:k,children:Z("save")}),(0,p.jsx)(o.Z,{type:"default",onClick:f,children:Z("cancel")})],children:(0,p.jsx)(d.Z,{form:b,layout:"vertical",onFinish:function(e){var n={deliveryman:e.deliveryman.value};C(!0),u.Z.updateDelivery(i.id,n).then((function(){f(),N((0,v.xo)(y))})).finally((function(){return C(!1)}))},initialValues:{deliveryman:null===(n=i.deliveryman)||void 0===n?void 0:n.id},children:(0,p.jsx)(r.Z,{gutter:12,children:(0,p.jsx)(a.Z,{span:24,children:(0,p.jsx)(d.Z.Item,{label:Z("deliveryman"),name:"deliveryman",rules:[{required:!0,message:Z("required")}],children:(0,p.jsx)(h.h,{fetchOptions:function(e){var n={perPage:10,page:1,search:e};return j.Z.getDeliverymans(n).then((function(e){return e.data.map((function(e){return{label:e.firstname,value:e.id}}))}))}})})})})})})}},27107:function(e,n,i){i.d(n,{Z:function(){return f}});var l=i(1413),s=i(93433),d=i(29439),t=i(47313),o=i(10976),r=i(9274),a=i(59491),c=i(68197),u=i(59624),v=i(74294),x=i(2717),m=i(24511),h=i(62412),j=i(90954),p=i(46417);function f(e){var n=e.orderDetails,i=e.handleCancel,f=(0,x.v9)((function(e){return e.orderStatus}),x.wU).statusList,Z=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,y=o.Z.useForm(),g=(0,d.Z)(y,1)[0],b=(0,x.I0)(),N=(0,m.$)().t,_=(0,t.useState)(!1),w=(0,d.Z)(_,2),k=w[0],C=w[1],S=(0,t.useState)([{id:0,name:"all",active:!0,sort:0}].concat((0,s.Z)(f),[{id:(null===f||void 0===f?void 0:f.length)+1,name:"canceled",active:!0,sort:8}])),I=(0,d.Z)(S,2),Y=I[0],D=I[1];(0,t.useEffect)((function(){var e=Y.findIndex((function(e){return e.name===(null===n||void 0===n?void 0:n.status)})),i=[Y[e],Y[e+1],Y[(null===f||void 0===f?void 0:f.length)+1]];e<0&&(i=[Y[e+1],Y[(null===f||void 0===f?void 0:f.length)+1]]),i.map((function(e,i,l){e.name===(null===n||void 0===n?void 0:n.status)&&D(l.slice(i))}))}),[n]);return(0,p.jsx)(r.Z,{visible:!!n,title:n.title,onCancel:i,footer:[(0,p.jsx)(a.Z,{type:"primary",onClick:function(){return g.submit()},loading:k,children:N("save")}),(0,p.jsx)(a.Z,{type:"default",onClick:i,children:N("cancel")})],children:(0,p.jsx)(o.Z,{form:g,layout:"vertical",onFinish:function(e){C(!0);var s=(0,l.Z)({},e);h.Z.updateStatus(n.id,s).then((function(){i(),b((0,j.xo)(Z))})).finally((function(){return C(!1)}))},initialValues:{status:n.status},children:(0,p.jsx)(c.Z,{gutter:12,children:(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(o.Z.Item,{label:N("status"),name:"status",rules:[{required:!0,message:N("required")}],children:(0,p.jsx)(v.Z,{children:null===Y||void 0===Y?void 0:Y.map((function(e){return(0,p.jsx)(v.Z.Option,{value:e.name,children:N(e.name)},e.id)}))})})})})})})}},72944:function(e,n,i){var l=i(29439),s=i(84697),d=i(83999),t=i(9274),o=i(59491),r=i(77181),a=i(68197),c=i(59624),u=i(66204),v=i(47313),x=i(24511),m=i(62412),h=i(51282),j=i(58821),p=i(2717),f=i(97421),Z=i(18478),y=i(84618),g=i(17649),b=i(66461),N=i(22539),_=i(3394),w=i(57864),k=i(46417),C=d.Z.Step,S=function(){return(0,k.jsx)("img",{src:Z,width:"50",alt:"Pin"})},I=function(){return(0,k.jsx)("img",{src:y,width:"50",alt:"Pin"})},Y=["blue","red","gold","volcano","cyan","lime"];n.Z=function(e){var n,i,Z,y,D,q,z=e.id,M=e.handleCancel,F=(0,x.$)().t,B=(0,v.useState)(null),H=(0,l.Z)(B,2),U=H[0],T=H[1],A=(0,v.useState)(null),V=(0,l.Z)(A,2),G=V[0],L=V[1],O=(0,v.useState)(null),$=(0,l.Z)(O,2),E=$[0],P=$[1],Q=(0,p.v9)((function(e){return e.globalSettings}),p.wU).settings,R=(0,g.Z)(Q),J=(0,v.useState)(0),K=(0,l.Z)(J,2),W=K[0],X=K[1],ee=(0,v.useState)((0,g.Z)(Q)),ne=(0,l.Z)(ee,2),ie=ne[0],le=ne[1],se=(0,v.useState)((0,g.Z)(Q)),de=(0,l.Z)(se,2),te=de[0],oe=de[1],re=(0,v.useState)([{id:0,name:"new",icon:(0,k.jsx)(b.Z,{})},{id:1,name:"accepted",icon:(0,k.jsx)(j.IQF,{})},{id:2,name:"ready",icon:(0,k.jsx)(N.TkG,{})},{id:3,name:"on_a_way",icon:(0,k.jsx)(_.Akc,{})},{id:4,name:"delivered",icon:(0,k.jsx)(_.kme,{})}]),ae=(0,l.Z)(re,2),ce=ae[0],ue=ae[1];var ve=(0,p.v9)((function(e){return e.globalSettings.settings}),p.wU).google_map_key;(0,v.useEffect)((function(){T(!0),m.Z.getById(z).then((function(e){var n,i=e.data;ue("canceled"===i.status?[{id:1,name:"new",icon:(0,k.jsx)(b.Z,{})},{id:5,name:"canceled",icon:(0,k.jsx)(w.SV5,{})}]:ce),X("canceled"===i.status?1:null===(n=ce.find((function(e){return e.name===i.status})))||void 0===n?void 0:n.id),P("canceled"===i.status?"error":"success"),L(i),oe({lat:i.location.latitude,lng:i.location.longitude}),le({lat:i.shop.location.latitude,lng:i.shop.location.longitude})})).finally((function(){T(!1)}))}),[]);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(t.Z,{visible:!!z,title:F("show.locations"),closable:!0,onCancel:M,style:{minWidth:"80vw"},footer:[(0,k.jsx)(o.Z,{type:"default",onClick:M,children:F("cancel")},"cancelBtn")],children:U?(0,k.jsx)(h.Z,{}):(0,k.jsxs)(r.Z,{children:[(0,k.jsx)(d.Z,{current:W,status:E,className:"mb-5",children:null===ce||void 0===ce?void 0:ce.map((function(e,n){return(0,k.jsx)(C,{title:F(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+n)}))}),(0,k.jsxs)(a.Z,{gutter:12,children:[(0,k.jsxs)(c.Z,{span:12,children:[(0,k.jsxs)("h3",{children:[F("order.id")," #",null===G||void 0===G?void 0:G.id]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(j.D73,{})," ",null===G||void 0===G?void 0:G.created_at]}),(0,k.jsxs)("p",{children:[F("schedulet.at")," ",null===G||void 0===G?void 0:G.delivery_date]}),(0,k.jsxs)("span",{children:[(0,k.jsx)("strong",{children:null===G||void 0===G||null===(n=G.shop)||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title})," ",null===G||void 0===G||null===(Z=G.details)||void 0===Z?void 0:Z.map((function(e,n){var i;return(0,k.jsx)(u.Z,{className:"mb-2",color:Y[n],children:null===e||void 0===e||null===(i=e.stock)||void 0===i?void 0:i.product.translation.title})}))]})]}),(0,k.jsxs)(c.Z,{span:12,children:[(0,k.jsxs)("p",{children:[F("status")," ","new"===(null===G||void 0===G?void 0:G.status)?(0,k.jsx)(u.Z,{color:"blue",children:F(null===G||void 0===G?void 0:G.status)}):"canceled"===(null===G||void 0===G?void 0:G.status)?(0,k.jsx)(u.Z,{color:"error",children:F(null===G||void 0===G?void 0:G.status)}):(0,k.jsx)(u.Z,{color:"cyan",children:F(null===G||void 0===G?void 0:G.status)})]}),(0,k.jsxs)("p",{children:[F("payment.method")," ",(0,k.jsx)("strong",{children:null===G||void 0===G||null===(y=G.transaction)||void 0===y||null===(D=y.payment_system)||void 0===D?void 0:D.tag})]}),(0,k.jsxs)("p",{children:[F("order.type")," ",(0,k.jsx)("strong",{children:null===G||void 0===G?void 0:G.delivery_type})]}),(0,k.jsxs)("p",{children:[F("payment.type")," ",(0,k.jsx)("strong",{children:null===G||void 0===G||null===(q=G.transaction)||void 0===q?void 0:q.status})]})]}),(0,k.jsxs)(c.Z,{span:24,className:"mt-5",children:[(0,k.jsx)("h4",{children:F("map")}),(0,k.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,k.jsxs)(s.ZP,{bootstrapURLKeys:{key:f.kr||ve},defaultZoom:15,center:R,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:function(e){for(var n=e.map,i=e.maps,l=[ie,te].map((function(e){return{lat:Number(e.lat||"0"),lng:Number(e.lng||"0")}})),s=new i.LatLngBounds,d=0;d<l.length;d++)s.extend(l[d]);n.fitBounds(s)},children:[(0,k.jsx)(I,{lat:null===ie||void 0===ie?void 0:ie.lat,lng:null===ie||void 0===ie?void 0:ie.lng}),(0,k.jsx)(S,{lat:null===te||void 0===te?void 0:te.lat,lng:null===te||void 0===te?void 0:te.lng})]})})]})]})]})})})}},84618:function(e,n,i){e.exports=i.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:function(e,n,i){e.exports=i.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);