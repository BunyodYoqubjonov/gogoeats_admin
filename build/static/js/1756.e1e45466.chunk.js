"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1756],{91756:function(e,r,t){t.r(r);var s=t(1413),n=t(29439),i=t(47313),a=t(97890),l=t(23560),u=t(10976),m=t(77181),o=t(2717),c=t(90954),d=t(24511),h=t(38758),p=t(84926),f=t(37495),v=t(46417);r.default=function(){var e=(0,d.$)().t,r=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu,t=(0,o.I0)(),x=u.Z.useForm(),Z=(0,n.Z)(x,1)[0],j=(0,a.s0)();(0,i.useEffect)((function(){return function(){var e=Z.getFieldsValue(!0);t((0,c.nc)({activeMenu:r,data:e}))}}),[]);return(0,v.jsx)(m.Z,{title:e("add.email.provider"),className:"h-100",children:(0,v.jsx)(f.Z,{form:Z,handleSubmit:function(n){var i={smtp_auth:n.smtp_auth,smtp_debug:n.smtp_debug,port:n.port,password:n.password,from_to:n.from_to,host:n.host,active:Number(n.active),from_site:n.from_site},a="settings/emailProviders";return h.Z.create(i).then((function(){l.Am.success(e("successfully.created")),(0,o.dC)((function(){t((0,c.ph)((0,s.Z)((0,s.Z)({},r),{},{nextUrl:a}))),t((0,p.z)({}))})),j("/".concat(a))}))}})})}},37495:function(e,r,t){t.d(r,{Z:function(){return v}});var s=t(1413),n=t(29439),i=t(47313),a=t(10976),l=t(68197),u=t(59624),m=t(66672),o=t(16124),c=t(86345),d=t(59491),h=t(2717),p=t(24511),f=t(46417);function v(e){var r=e.form,t=e.handleSubmit,v=(0,p.$)().t,x=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,Z=(0,i.useState)(!1),j=(0,n.Z)(Z,2),b=j[0],g=j[1];return(0,f.jsxs)(a.Z,{name:"email-provider-form",layout:"vertical",onFinish:function(e){g(!0),t(e).finally((function(){return g(!1)}))},form:r,initialValues:(0,s.Z)({smtp_debug:!0,smtp_auth:!0,active:!0},x.data),className:"d-flex flex-column h-100",children:[(0,f.jsxs)(l.Z,{gutter:12,children:[(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{required:!0,message:v("required")},{type:"email",message:v("invalid.email")}],label:v("email"),name:"from_to",children:(0,f.jsx)(m.Z,{placeholder:"Email"})})}),(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{required:!0,message:v("required")},{type:"string",min:6,message:v("min.6.letters")}],label:v("password"),name:"password",normalize:function(e){return""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e},children:(0,f.jsx)(m.Z.Password,{})})}),(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(v("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(v("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(v("required")))}}],label:v("host"),name:"host",children:(0,f.jsx)(m.Z,{})})}),(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{required:!0,message:v("required")}],label:v("port"),name:"port",children:(0,f.jsx)(o.Z,{min:0,className:"w-100"})})}),(0,f.jsx)(u.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{label:v("active"),name:"active",valuePropName:"checked",children:(0,f.jsx)(c.Z,{})})}),(0,f.jsx)(u.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{valuePropName:"checked",label:v("smtp_debug"),name:"smtp_debug",children:(0,f.jsx)(c.Z,{})})}),(0,f.jsx)(u.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{valuePropName:"checked",label:v("smtp_auth"),name:"smtp_auth",children:(0,f.jsx)(c.Z,{})})})]}),(0,f.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,f.jsx)("div",{className:"pb-5",children:(0,f.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:b,children:v("submit")})})})]})}}}]);