(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3856],{33834:function(t,n,e){"use strict";e.d(n,{K:function(){return u}});var a=e(4942),i=e(1413),r=e(97890),c=e(74776),o=e.n(c),u=function(){var t=(0,r.s0)(),n=(0,r.TH)(),e=o().parse(n.search,{ignoreQueryPrefix:!0});return{values:e,set:function(n,r){return t({search:o().stringify((0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n,r)))})},reset:function(n){var a=(0,i.Z)({},e);a[n]&&delete a[n],t({search:o().stringify((0,i.Z)({},a))})},clear:function(){return t({search:o().stringify({})})},merge:function(n){return t({search:o().stringify((0,i.Z)((0,i.Z)({},e),n))})}}}},52509:function(t,n,e){"use strict";e.r(n);var a=e(4942),i=e(93433),r=e(1413),c=e(29439),o=e(47313),u=e(96077),s=e(83999),l=e(77181),d=e(72652),f=e(70432),v=e(78873),p=e(8597),Z=e(47668),h=e(97307),x=e(73431),g=e(97890),j=e(17101),_=e(2717),b=e(90954),m=e(24511),y=e(33834),k=e(46417),S=s.Z.Step;n.default=function(){var t,n=(0,m.$)().t,e=(0,g.UO)().uuid,O=(0,y.K)(),w=(0,_.v9)((function(t){return t.menu}),_.wU).activeMenu,F=(0,_.v9)((function(t){return t.formLang}),_.wU).languages,N=(0,_.I0)(),C=Number((null===(t=O.values)||void 0===t?void 0:t.step)||0),E=(0,o.useState)(w.refetch),M=(0,c.Z)(E,2),U=M[0],q=M[1],I=function(){var t=C+1;O.set("step",t)},K=function(){var t=C-1;O.set("step",t)},T=function(t){return t?{label:t.translation?t.translation.title:t.title,value:t.id}:null};function z(t){q(!0),j.Z.getById(t).then((function(t){var n={};t.data.stocks.forEach((function(t){t.extras.forEach((function(e){var a,i,r;e.extra_group_id in n?null!==(a=n[e.extra_group_id].values)&&void 0!==a&&a.some((function(t){return t.value===e.id}))||null===(i=n[e.extra_group_id].values)||void 0===i||i.push({value:e.id,label:e.value,stock_id:t.id}):n[e.extra_group_id]={label:null===(r=e.group.translation)||void 0===r?void 0:r.title,value:e.extra_group_id,id:e.extra_group_id,stock_id:t.id,values:[{value:e.id,label:e.value,stock_id:t.id}]}}))}));var e,c=(0,r.Z)((0,r.Z)((0,r.Z)({},t.data),function(t){if(null===t||void 0===t||!t.translations)return{};var n=t.translations,e=F.map((function(t){var e,i,r;return r={},(0,a.Z)(r,"title[".concat(t.locale,"]"),null===(e=n.find((function(n){return n.locale===t.locale})))||void 0===e?void 0:e.title),(0,a.Z)(r,"description[".concat(t.locale,"]"),null===(i=n.find((function(n){return n.locale===t.locale})))||void 0===i?void 0:i.description),r}));return Object.assign.apply(Object,[{}].concat((0,i.Z)(e)))}(t.data)),{},{shop:T(t.data.shop),category:T(t.data.category),brand:T(t.data.brand),unit:T(t.data.unit),images:(e=t.data.galleries,e.map((function(t){return{uid:t.id,name:t.path,url:t.path}}))),extras:Object.values(n),stocks:t.data.stocks.map((function(t){return(0,r.Z)((0,r.Z)((0,r.Z)({},t),Object.assign.apply(Object,[{}].concat((0,i.Z)(t.extras.map((function(t,n){return(0,a.Z)({},"extras[".concat(n,"]"),t.id)})))))),{},{quantity:t.quantity||0,price:t.price||0,extras:void 0})})),properties:t.data.properties.map((function(t,n){var e;return e={id:n},(0,a.Z)(e,"key[".concat(t.locale,"]"),t.key),(0,a.Z)(e,"value[".concat(t.locale,"]"),t.value),e})),translation:void 0,translations:void 0});N((0,b.nc)({activeMenu:w,data:c}))})).finally((function(){q(!1),N((0,b.A_)(w))}))}(0,o.useEffect)((function(){z(e)}),[w.refetch]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l.Z,{title:n("edit.product"),extra:(0,k.jsx)(x.Z,{}),children:(0,k.jsx)(s.Z,{current:C,onChange:function(t){N((0,b.nc)({activeMenu:w,data:(0,r.Z)((0,r.Z)({},w.data),{},{step:t})})),O.set("step",t)},children:u.S.map((function(t){return(0,k.jsx)(S,{title:n(t.title)},t.title)}))})}),U?(0,k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,k.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,k.jsxs)("div",{className:"",children:["First-content"===u.S[C].content&&(0,k.jsx)(h.Z,{next:I,action_type:"edit"}),"Second-content"===u.S[C].content&&(0,k.jsx)(Z.Z,{next:I,prev:K}),"Third-content"===u.S[C].content&&(0,k.jsx)(p.Z,{next:I,prev:K}),"Fourth-content"===u.S[C].content&&(0,k.jsx)(f.Z,{next:I,prev:K}),"Finish-content"===u.S[C].content&&(0,k.jsx)(v.Z,{prev:K})]})]})}},24654:function(){}}]);