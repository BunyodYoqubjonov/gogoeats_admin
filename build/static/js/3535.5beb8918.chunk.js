"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3535],{55940:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(1413),a=t(45987),i=(t(47313),t(59491)),l=t(47515),s=t(23560),o=t(24511),u=t(79492),c=t(46417),d=["size","onClick","type"];function m(e){var n=e.size,t=void 0===n?"":n,m=e.onClick,h=e.type,v=void 0===h?"default":h,p=(0,a.Z)(e,d),f=(0,o.$)().t,Z=(0,u.Z)().isDemo;return(0,c.jsx)(i.Z,(0,r.Z)({size:t,icon:(0,c.jsx)(l.Z,{}),onClick:function(e){Z?s.Am.warning(f("cannot.work.demo")):m(e)},type:v},p))}},53233:function(e,n,t){var r=t(1413),a=t(29439),i=t(47313),l=t(56140),s=t(67251),o=t(45705),u=t(86345),c=t(78267),d=t(37388),m=t(59491),h=t(99587),v=t(24511),p=t(46417),f=l.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,l=e.setColumns,Z=e.style,x=e.size,j=void 0===x?"":x,g=e.iconOnly,w=(0,v.$)().t,y=(0,i.useState)(!1),b=(0,a.Z)(y,2),k=b[0],_=b[1],I=(0,p.jsx)(s.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,p.jsx)(s.Z.Item,{children:(0,p.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(f,{children:e.title}),(0,p.jsx)(u.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));l(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,p.jsx)(c.Z,{overlay:I,trigger:["click"],onVisibleChange:function(e){_(e)},visible:k,children:(0,p.jsx)(d.Z,{title:w("change.columns"),children:(0,p.jsx)(m.Z,{style:(0,r.Z)({},Z),size:j,icon:(0,p.jsx)(h.Z,{}),children:g?null:w("Columns")})})})}},97388:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(15861),a=t(29439),i=t(87757),l=t.n(i),s=t(47313),o=t(16609),u=t(97421),c=t.p+"static/media/pin.0e41858db80c699cd8a2.png",d=t(31881),m=t.n(d);function h(e){return v.apply(this,arguments)}function v(){return v=(0,r.Z)(l().mark((function e(n){var t,r,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:u.kr,r={latlng:"".concat(null===n||void 0===n?void 0:n.lat,",").concat(null===n||void 0===n?void 0:n.lng),key:t},e.abrupt("return",m().get("https://maps.googleapis.com/maps/api/geocode/json",{params:r}).then((function(e){var n;return null===(n=e.data.results[0])||void 0===n?void 0:n.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var p=t(5958),f=t(23560),Z=t(24511),x=t(46417);var j=(0,o.GoogleApiWrapper)({apiKey:u.kr})((function(e){var n=(0,s.useState)(),t=(0,a.Z)(n,2),i=t[0],d=t[1],m=(0,Z.$)().t,v=function(){var n=(0,r.Z)(l().mark((function n(t,r,a){var i,s,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=a.latLng,s={lat:i.lat(),lng:i.lng()},e.setLocation(s),n.next=5,h(s,u.kr);case 5:o=n.sent,e.setAddress(o);case 7:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),j=function(){var n=(0,r.Z)(l().mark((function n(t){var r,a;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng},e.setLocation(r),n.next=4,h(r,u.kr);case 4:a=n.sent,e.setAddress(a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};d(n)}),(function(e){f.Am.warning(m("turn.on.gps"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){g()}),[]);for(var w=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],y=new e.google.maps.LatLngBounds,b=0;b<w.length;b++)y.extend(w[b]);return(0,x.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,x.jsx)("button",{className:"map-button",type:"button",onClick:function(){g(),i&&j(i)},children:(0,x.jsx)(p.nDs,{})}),(0,x.jsx)(o.Map,{cursor:"pointer",onClick:v,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,x.jsx)(o.Marker,{position:e.location,icon:{url:c,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},89281:function(e,n,t){t.d(n,{h:function(){return h}});var r=t(1413),a=t(29439),i=t(45987),l=t(47313),s=t(12279),o=t.n(s),u=t(74294),c=t(72652),d=t(46417),m=["fetchOptions","debounceTimeout","onClear"],h=function(e){var n=e.fetchOptions,t=e.debounceTimeout,s=void 0===t?400:t,h=e.onClear,v=(0,i.Z)(e,m),p=(0,l.useState)(!1),f=(0,a.Z)(p,2),Z=f[0],x=f[1],j=(0,l.useState)([]),g=(0,a.Z)(j,2),w=g[0],y=g[1],b=(0,l.useMemo)((function(){return o()((function(e){y([]),x(!0),n(e).then((function(e){y(e),x(!1)}))}),s)}),[n,s]);return(0,d.jsx)(u.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:b,onClear:function(){b(""),h&&h()},notFoundContent:Z?(0,d.jsx)(c.Z,{size:"small"}):"no results"},v),{},{options:w,onFocus:function(){b("")}}))}},13945:function(e,n,t){function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return r}})},17649:function(e,n,t){t.d(n,{Z:function(){return r}});t(97421);function r(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,t){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";if(!e)return"0";var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return n+" "+t}t.d(n,{Z:function(){return r}})},78067:function(e,n,t){var r=t(1413),a=t(29439),i=t(10976),l=t(68197),s=t(59624),o=t(66672),u=t(74294),c=t(16124),d=t(86345),m=t(59491),h=t(47313),v=t(24511),p=t(45321),f=t(51282),Z=t(2717),x=t(5764),j=t(97388),g=t(17649),w=t(23560),y=t(46417),b=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}];n.Z=function(e){var n=e.id,t=e.data,k=(0,v.$)().t,_=i.Z.useForm(),I=(0,a.Z)(_,1)[0],S=(0,h.useState)(!1),C=(0,a.Z)(S,2),q=C[0],P=C[1],N=(0,h.useState)(!1),z=(0,a.Z)(N,2),E=z[0],M=z[1],V=(0,h.useState)([]),A=(0,a.Z)(V,2),H=A[0],O=A[1],F=(0,Z.v9)((function(e){return e.globalSettings}),Z.wU).settings,T=(0,h.useState)((0,g.Z)(F)),U=(0,a.Z)(T,2),L=U[0],$=U[1],D=function(e){return e.map((function(e){return{uid:e.id,name:e.path,url:e.path}}))};return(0,h.useEffect)((function(){n&&function(e){M(!0),p.Z.getById(e).then((function(e){var n,t,a,i,l,s,o,u,c=(0,r.Z)((0,r.Z)({},e.data),{},{user_id:{label:e.data.deliveryMan.firstname+" "+e.data.deliveryMan.firstname,value:e.data.deliveryMan.id,images:D(e.data.galleries),location:{lat:null===(n=e.data)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,lng:null===(a=e.data)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.longitude}}});$({lat:null===(l=e.data)||void 0===l||null===(s=l.location)||void 0===s?void 0:s.latitude,lng:null===(o=e.data)||void 0===o||null===(u=o.location)||void 0===u?void 0:u.longitude}),O(D(e.data.galleries)),I.setFieldsValue(c)})).finally((function(){return M(!1)}))}(n)}),[]),(0,y.jsx)(i.Z,{name:"basic",layout:"vertical",onFinish:function(e){var a;P(!0);var i=(0,r.Z)((0,r.Z)({},e),{},{user_id:t.id,images:[null===(a=H[0])||void 0===a?void 0:a.name],location:{latitude:L.lat,longitude:L.lng},online:Number(e.online)});p.Z.update(n,i).then((function(){return w.Am.success(k("successfully.updated"))})).finally((function(){return P(!1)}))},form:I,children:E?(0,y.jsx)(f.Z,{}):(0,y.jsxs)(l.Z,{gutter:12,children:[(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("brand"),name:"brand",rules:[{required:!0,message:k("required")}],children:(0,y.jsx)(o.Z,{})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("model"),name:"model",rules:[{required:!0,message:k("required")}],children:(0,y.jsx)(o.Z,{})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:k("required")}],children:(0,y.jsx)(u.Z,{options:b})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("car.number"),name:"number",rules:[{required:!0,message:k("required")}],children:(0,y.jsx)(o.Z,{})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("car.color"),name:"color",rules:[{required:!0,message:k("required")}],children:(0,y.jsx)(o.Z,{})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("height"),name:"height",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,y.jsx)(c.Z,{className:"w-100",addonAfter:"sm"})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("weight"),name:"kg",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,y.jsx)(c.Z,{className:"w-100",addonAfter:"kg"})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("length"),name:"length",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,y.jsx)(c.Z,{className:"w-100",addonAfter:"sm"})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("width"),name:"width",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,y.jsx)(c.Z,{className:"w-100",addonAfter:"sm"})})}),(0,y.jsx)(s.Z,{span:12,children:(0,y.jsx)(i.Z.Item,{label:k("image"),name:"images",children:(0,y.jsx)(x.Z,{type:"deliveryman/settings",imageList:H,setImageList:O,form:I,length:"1",multiple:!0})})}),(0,y.jsx)(s.Z,{span:6,children:(0,y.jsx)(i.Z.Item,{label:k("online"),name:"online",valuePropName:"checked",children:(0,y.jsx)(d.Z,{})})}),(0,y.jsx)(s.Z,{span:24,children:(0,y.jsx)(i.Z.Item,{label:k("map"),name:"location",children:(0,y.jsx)(j.Z,{location:L,setLocation:$})})}),(0,y.jsx)(s.Z,{span:24,children:(0,y.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:q,children:k("save")})})]})})}},65559:function(e,n,t){t.d(n,{Z:function(){return z}});var r=t(15861),a=t(1413),i=t(29439),l=t(87757),s=t.n(l),o=t(47313),u=t(10976),c=t(68197),d=t(59624),m=t(66672),h=t(16124),v=t(99096),p=t(74294),f=t(59491),Z=t(97890),x=t(2717),j=t(49986),g=t(23560),w=t(90954),y=t(84304),b=t(70816),k=t.n(b),_=t(24511),I=t(85746),S=t(5764),C=t(89281),q=t(53149),P=t(79492),N=t(46417);function z(e){var n,t=e.form,l=e.data,b=e.image,z=e.setImage,E=e.action_type,M=void 0===E?"":E,V=(0,_.$)().t,A=(0,x.v9)((function(e){return e.menu.activeMenu}),x.wU),H=(0,x.I0)(),O=(0,Z.s0)(),F=(0,Z.UO)().uuid,T=(0,Z.TH)(),U=(0,o.useState)(),L=(0,i.Z)(U,2),$=L[0],D=L[1],Y=(0,o.useState)(null),B=(0,i.Z)(Y,2),K=B[0],R=B[1],G=(0,o.useState)(!1),W=(0,i.Z)(G,2),J=W[0],Q=W[1],X=null===A||void 0===A||null===(n=A.data)||void 0===n?void 0:n.role,ee=(0,x.v9)((function(e){return e.user}),x.wU),ne=(0,x.v9)((function(e){return e.client}),x.wU),te=(0,P.Z)().isDemo;function re(e){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:"approved"},e.abrupt("return",q.Z.search(t).then((function(e){return e.data.map((function(e){return{label:null!==e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,N.jsx)(u.Z,{form:t,layout:"vertical",initialValues:(0,a.Z)((0,a.Z)({gender:"male",role:"admin"},l),{},{birthday:null!==l&&void 0!==l&&l.birthday?k()(l.birthday):null}),onFinish:function(e){var n,t;Q(!0);var r={firstname:e.firstname,lastname:e.lastname,email:te||null===e||void 0===e?void 0:e.email,phone:te||null===e||void 0===e?void 0:e.phone,birthday:k()($).format("YYYY-MM-DD"),gender:e.gender,images:b[0]?[null===(n=b[0])||void 0===n?void 0:n.name]:void 0,shop_id:null!==e&&void 0!==e&&e.shop_id?void 0!==(null===e||void 0===e?void 0:e.shop_id.length)?null===e||void 0===e||null===(t=e.shop_id)||void 0===t?void 0:t.map((function(e){return e.value})):[null===e||void 0===e?void 0:e.shop_id.value]:void 0,role:X},i=0===T.pathname.search("/user/delivery/")?"deliveries/list":"user"!==l.role?"users/admin":"users/user";console.log("nextUrl",i);var s=(0,a.Z)((0,a.Z)({},ee.params),{},{role:l.role}),o=(0,a.Z)({},ne.params);"edit"===M?j.Z.update(F,r).then((function(){g.Am.success(V("successfully.updated")),H((0,w.ph)((0,a.Z)((0,a.Z)({},A),{},{nextUrl:i}))),O("/".concat(i)),"user"===l.role?H((0,I.Tu)(o)):H((0,y.uh)(s))})).catch((function(e){return R(e.response.data.params)})).finally((function(){return Q(!1)})):j.Z.create(r).then((function(){g.Am.success(V("successfully.updated")),H((0,w.ph)((0,a.Z)((0,a.Z)({},A),{},{nextUrl:i}))),O("/".concat(i)),"user"===l.role?H((0,I.Tu)(o)):H((0,y.uh)(s))})).catch((function(e){return R(e.response.data.params)})).finally((function(){return Q(!1)}))},className:"px-2",children:(0,N.jsxs)(c.Z,{gutter:12,children:[(0,N.jsx)(d.Z,{span:24,children:(0,N.jsx)(u.Z.Item,{name:"images",label:V("avatar"),rules:[{validator:function(){return 0===(null===b||void 0===b?void 0:b.length)?Promise.reject(new Error(V("required"))):Promise.resolve()}}],children:(0,N.jsx)(S.Z,{type:"restaurant/logo",imageList:b,setImageList:z,form:t,multiple:!1,name:"logo_img"})})}),(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("firstname"),name:"firstname",help:null!==K&&void 0!==K&&K.firstname?K.firstname[0]:null,validateStatus:null!==K&&void 0!==K&&K.firstname?"error":"success",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(V("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(V("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(V("required")))}}],children:(0,N.jsx)(m.Z,{className:"w-100"})})}),(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("lastname"),name:"lastname",help:null!==K&&void 0!==K&&K.lastname?K.lastname[0]:null,validateStatus:null!==K&&void 0!==K&&K.lastname?"error":"success",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(V("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(V("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(V("required")))}}],children:(0,N.jsx)(m.Z,{className:"w-100"})})}),(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("phone"),name:"phone",help:null!==K&&void 0!==K&&K.phone?K.phone[0]:null,validateStatus:null!==K&&void 0!==K&&K.phone?"error":"success",rules:[{required:!te,message:V("required")}],children:(0,N.jsx)(h.Z,{min:0,className:"w-100"})})}),(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("birthday"),name:"birthday",rules:[{required:!0,message:V("required")}],children:(0,N.jsx)(v.Z,{onChange:function(e){return D(e)},className:"w-100",disabledDate:function(e){return k()().add(-18,"years")<=e},defaultPickerValue:k()().add(-18,"years")})})}),(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("gender"),name:"gender",rules:[{required:!0,message:V("required")}],children:(0,N.jsxs)(p.Z,{picker:"dayTime",className:"w-100",children:[(0,N.jsx)(p.Z.Option,{value:"male",children:V("male")}),(0,N.jsx)(p.Z.Option,{value:"female",children:V("female")})]})})}),(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("email"),name:"email",help:null!==K&&void 0!==K&&K.email?K.email[0]:null,validateStatus:null!==K&&void 0!==K&&K.email?"error":"success",rules:[{required:!te,message:V("required")},{type:"email",message:V("invalid.email")}],children:(0,N.jsx)(m.Z,{type:"email",className:"w-100",disabled:te})})}),"admin"!==X&&"manager"!==X&&"moderator"!==X&&"seller"!==X&&"cook"!==X&&"user"!==X&&(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("branches"),name:"shop_id",rules:[{required:!1,message:V("required")}],children:(0,N.jsx)(C.h,{mode:"multiple",fetchOptions:re,className:"w-100",placeholder:V("select.shop"),allowClear:!1})})}),"cook"===X&&(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("shop"),name:"shop_id",rules:[{required:!1,message:V("required")}],children:(0,N.jsx)(C.h,{fetchOptions:re,className:"w-100",placeholder:V("select.shop"),allowClear:!1})})}),"moderator"===X&&(0,N.jsx)(d.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:V("branches"),name:"shop_id",rules:[{required:!1,message:V("required")}],children:(0,N.jsx)(C.h,{fetchOptions:re,className:"w-100",placeholder:V("select.shop"),allowClear:!1})})}),(0,N.jsx)(d.Z,{span:24,children:(0,N.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:J,children:V("save")})})]})})}},45713:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(4942),a=t(93433),i=t(1413),l=t(29439),s=t(47313),o=t(45705),u=t(59491),c=t(77181),d=t(78508),m=t(97890),h=t(31741),v=t(47515),p=t(2717),f=t(90954),Z=t(24511),x=t(84017),j=t(22054),g=t(13945),w=t(74580),y=t(23560),b=t(55940),k=t(69658),_=t(7370),I=t(53233),S=t(46417);function C(e){var n=e.data,t=(0,p.I0)(),C=(0,m.s0)(),q=(0,Z.$)().t,P=(0,s.useState)(null),N=(0,l.Z)(P,2),z=N[0],E=N[1],M=(0,s.useState)(null),V=(0,l.Z)(M,2),A=V[0],H=V[1],O=(0,s.useContext)(w._).setIsModalVisible,F=(0,s.useState)(!1),T=(0,l.Z)(F,2),U=T[0],L=T[1],$=(0,p.v9)((function(e){return e.menu}),p.wU).activeMenu,D=(0,p.v9)((function(e){return e.orders}),p.wU),Y=D.orders,B=D.meta,K=D.loading,R=D.params,G=(0,p.v9)((function(e){return e.currency}),p.wU).defaultCurrency,W=(0,s.useState)([{title:q("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:q("client"),is_show:!0,dataIndex:"user",key:"user",render:function(e){return(0,S.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:q("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:function(e){return(0,S.jsxs)("div",{className:"text-lowercase",children:[e||0," ",q("products")]})}},{title:q("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:function(e){return(0,x.Z)(e,null===G||void 0===G?void 0:G.symbol)}},{title:q("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:function(e){var n;return q(null===e||void 0===e||null===(n=e.payment_system)||void 0===n?void 0:n.tag)||"-"}},{title:q("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:q("options"),is_show:!0,key:"options",render:function(e,n){return(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(u.Z,{icon:(0,S.jsx)(h.Z,{}),onClick:function(){return function(e){t((0,f.bL)({url:"order/details/".concat(e.id),id:"order_details",name:q("order.details")})),C("/order/details/".concat(e.id))}(n)}}),(0,S.jsx)(b.Z,{icon:(0,S.jsx)(v.Z,{}),onClick:function(){E([n.id]),O(!0),H(!0)}})]})}}]),J=(0,l.Z)(W,2),Q=J[0],X=J[1];(0,s.useEffect)((function(){var e={user_id:null===n||void 0===n?void 0:n.uuid,page:1,perPage:10};t((0,j.dT)(e))}),[]);var ee={selectedRowKeys:z,onChange:function(e){E(e)}};return(0,S.jsx)("div",{children:(0,S.jsxs)(c.Z,{title:q("orders"),extra:(0,S.jsxs)(o.Z,{wrap:!0,children:[(0,S.jsx)(b.Z,{type:"danger",onClick:function(){null===z||0===z.length?y.Am.warning(q("select.the.product")):(O(!0),H(!1))},children:q("delete.all")}),(0,S.jsx)(I.Z,{setColumns:X,columns:Q})]}),children:[(0,S.jsx)(d.Z,{scroll:{x:!0},rowSelection:ee,columns:null===Q||void 0===Q?void 0:Q.filter((function(e){return e.is_show})),dataSource:Y,loading:K,pagination:{pageSize:R.perPage,page:R.page,total:B.total,defaultCurrent:R.page},rowKey:function(e){return e.id},onChange:function(e,n,r){var a=e.pageSize,l=e.current,s=r.field,o=r.order,u=(0,g.Z)(o);t((0,f.nc)({activeMenu:$,data:(0,i.Z)((0,i.Z)({},$.data),{},{perPage:a,page:l,column:s,sort:u})}))}}),(0,S.jsx)(k.Z,{click:function(){L(!0);var e=(0,i.Z)({},Object.assign.apply(Object,[{}].concat((0,a.Z)(z.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));_.Z.delete(e).then((function(){y.Am.success(q("successfully.deleted")),O(!1),t((0,j.dT)()),H(null)})).finally((function(){return L(!1)}))},text:q(A?"delete":"all.delete"),loading:U,setText:E})]})})}},94748:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(29439),a=t(47313),i=t(10976),l=t(77181),s=t(68197),o=t(59624),u=t(66672),c=t(59491),d=t(97890),m=t(23560),h=t(49986),v=t(24511),p=t(46417);function f(){var e=(0,v.$)().t,n=i.Z.useForm(),t=(0,r.Z)(n,1)[0],f=(0,a.useState)(null),Z=(0,r.Z)(f,2),x=Z[0],j=Z[1],g=(0,a.useState)(!1),w=(0,r.Z)(g,2),y=w[0],b=w[1],k=(0,d.UO)().uuid;return(0,p.jsx)(l.Z,{title:e("user.password.change"),children:(0,p.jsx)(i.Z,{form:t,layout:"vertical",onFinish:function(n){b(!0);var t={password:n.password?n.password:void 0,password_confirmation:n.password_confirmation};h.Z.updatePassword(k,t).then((function(){m.Am.success(e("successfully.created"))})).catch((function(e){return j(e.response.data.params)})).finally((function(){return b(!1)}))},children:(0,p.jsxs)(s.Z,{gutter:12,children:[(0,p.jsx)(o.Z,{span:12,children:(0,p.jsx)(i.Z.Item,{label:e("password"),name:"password",help:null!==x&&void 0!==x&&x.password?x.password[0]:null,validateStatus:null!==x&&void 0!==x&&x.password?"error":"success",rules:[{required:!0,message:e("required")}],children:(0,p.jsx)(u.Z.Password,{type:"password",className:"w-100",placeholder:"********"})})}),(0,p.jsx)(o.Z,{span:12,children:(0,p.jsx)(i.Z.Item,{label:e("password.confirmation"),help:null!==x&&void 0!==x&&x.password_confirmation?x.password_confirmation[0]:null,validateStatus:null!==x&&void 0!==x&&x.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:e("required")},function(n){var t=n.getFieldValue;return{validator:function(n,r){return r&&t("password")!==r?Promise.reject(e("two.passwords.dont.match")):Promise.resolve()}}}],children:(0,p.jsx)(u.Z.Password,{type:"password",placeholder:"********"})})}),(0,p.jsx)(o.Z,{span:24,children:(0,p.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:y,children:e("save")})})]})})})}},92815:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(29439),a=t(47313),i=t(45705),l=t(59491),s=t(78508),o=t(2717),u=t(24511),c=t(84017),d=t(49986),m=t(55768),h=t(10976),v=t(9274),p=t(16124),f=t(66672),Z=t(23560),x=t(90954),j=t(46417);function g(e){var n=e.modal,t=e.uuid,i=e.handleCancel,s=(0,a.useState)(!1),c=(0,r.Z)(s,2),m=c[0],g=c[1],w=h.Z.useForm(),y=(0,r.Z)(w,1)[0],b=(0,u.$)().t,k=(0,o.I0)(),_=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu;return(0,j.jsx)(v.Z,{visible:n,title:b("topup.wallet"),onCancel:i,footer:[(0,j.jsx)(l.Z,{type:"default",onClick:i,children:b("cancel")},"cancel-btn"),(0,j.jsx)(l.Z,{type:"primary",onClick:function(){return y.submit()},loading:m,children:b("save")},"submit-btn")],children:(0,j.jsxs)(h.Z,{layout:"vertical",form:y,onFinish:function(e){g(!0),d.Z.topupWallet(t,e).then((function(){Z.Am.success(b("successfully.added")),k((0,x.xo)(_)),i()})).finally((function(){return g(!1)}))},children:[(0,j.jsx)(h.Z.Item,{label:b("price"),name:"price",rules:[{required:!0,message:b("required")}],children:(0,j.jsx)(p.Z,{min:0,className:"w-100"})}),(0,j.jsx)(h.Z.Item,{label:b("note"),name:"note",children:(0,j.jsx)(f.Z,{})})]})})}var w=t(53233),y=t(70816),b=t.n(y);function k(e){var n,t=e.data,h=(0,u.$)().t,v=(0,a.useState)(1),p=(0,r.Z)(v,2),f=p[0],Z=p[1],x=(0,a.useState)(10),y=(0,r.Z)(x,2),k=y[0],_=y[1],I=(0,a.useState)(1),S=(0,r.Z)(I,2),C=S[0],q=S[1],P=(0,a.useState)(!1),N=(0,r.Z)(P,2),z=N[0],E=N[1],M=(0,a.useState)([]),V=(0,r.Z)(M,2),A=V[0],H=V[1],O=(0,a.useState)(!1),F=(0,r.Z)(O,2),T=F[0],U=F[1],L=(0,o.v9)((function(e){return e.currency}),o.wU).defaultCurrency,$=(0,a.useState)([{title:h("created.by"),dataIndex:"author",key:"author",is_show:!0,render:function(e){return(0,j.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:h("price"),dataIndex:"price",key:"price",is_show:!0,render:function(e){return(0,c.Z)(e,null===L||void 0===L?void 0:L.symbol)}},{title:h("note"),dataIndex:"note",key:"note",is_show:!0},{title:h("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return b()(e).format("YYYY-MM-DD HH:mm")}}]),D=(0,r.Z)($,2),Y=D[0],B=D[1];return(0,a.useEffect)((function(){!function(){E(!0);var e={pageSize:10,page:f||1};d.Z.walletHistory(t.uuid,e).then((function(e){H(e.data),q(e.meta.total)})).finally((function(){return E(!1)}))}()}),[f]),(0,j.jsxs)("div",{className:"px-2",children:[(0,j.jsx)("div",{className:"d-flex justify-content-end",children:(0,j.jsxs)(i.Z,{wrap:!0,children:[(0,j.jsx)(l.Z,{type:"primary",icon:(0,j.jsx)(m.Z,{}),onClick:function(){return U(!0)},children:"".concat(h("wallet"),": ").concat((0,c.Z)(null===t||void 0===t||null===(n=t.wallet)||void 0===n?void 0:n.price,null===L||void 0===L?void 0:L.symbol))}),(0,j.jsx)(w.Z,{columns:Y,setColumns:B})]})}),(0,j.jsx)(s.Z,{scroll:{x:!0},columns:null===Y||void 0===Y?void 0:Y.filter((function(e){return e.is_show})),dataSource:A,loading:z,pagination:{pageSize:k,page:f,total:C},rowKey:function(e){return e.id},onChange:function(e,n,t){var r=e.pageSize,a=e.current;Z(a),_(r)}}),T&&(0,j.jsx)(g,{modal:T,uuid:t.uuid,handleCancel:function(){return U(!1)}})]})}},55768:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(1413),a=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=t(17469),s=function(e,n){return a.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:i}))};s.displayName="PlusCircleOutlined";var o=a.forwardRef(s)},99587:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(1413),a=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},l=t(17469),s=function(e,n){return a.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:i}))};s.displayName="TableOutlined";var o=a.forwardRef(s)}}]);