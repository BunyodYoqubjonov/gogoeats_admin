"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9987],{79987:function(e,t,n){n.r(t);var a=n(1413),c=n(93433),i=n(4942),r=n(29439),u=n(47313),o=n(10976),l=n(77181),s=n(72652),d=n(23560),f=n(97890),v=n(73431),p=n(2717),Z=n(90954),m=n(30763),g=n(24511),h=n(74380),y=n(61615),b=n(46417);t.default=function(){var e=(0,g.$)().t,t=(0,f.s0)(),n=(0,p.I0)(),j=(0,p.v9)((function(e){return e.menu}),p.wU).activeMenu,k=(0,u.useState)(!1),w=(0,r.Z)(k,2),x=w[0],U=w[1],_=o.Z.useForm(),C=(0,r.Z)(_,1)[0],F=(0,u.useState)(null),M=(0,r.Z)(F,2),O=M[0],S=M[1],A=(0,f.UO)().uuid,E=(0,p.v9)((function(e){return e.formLang}),p.wU).languages;(0,u.useEffect)((function(){return function(){var e=C.getFieldsValue(!0);n((0,Z.nc)({activeMenu:j,data:e}))}}),[]);var I=function(e){U(!0),m.Z.getById(e).then((function(e){var t,r=e.data,u=(0,a.Z)((0,a.Z)((0,a.Z)({},r),function(e){if(!e)return{};var t=e.translations,n=E.map((function(e){var n,a,c;return c={},(0,i.Z)(c,"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title),(0,i.Z)(c,"description[".concat(e.locale,"]"),null===(a=t.find((function(t){return t.locale===e.locale})))||void 0===a?void 0:a.description),c}));return Object.assign.apply(Object,[{}].concat((0,c.Z)(n)))}(r)),{},{image:[(t=r.img,{name:t,url:t})],keywords:r.keywords.split(",")});n((0,Z.nc)({activeMenu:j,data:u})),C.setFieldsValue(u)})).finally((function(){U(!1),n((0,Z.A_)(j))}))};return(0,u.useEffect)((function(){j.refetch&&I(A)}),[j.refetch]),(0,b.jsx)(l.Z,{title:e("recipe.category.clone"),extra:(0,b.jsx)(v.Z,{}),children:x?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,b.jsx)(s.Z,{size:"large",className:"mt-5 pt-5"})}):(0,b.jsx)(y.Z,{form:C,handleSubmit:function(c,i){var r,u=(0,a.Z)((0,a.Z)({},c),{},{type:"receipt",active:c.active?1:0,keywords:c.keywords.join(","),parent_id:null,"images[0]":null===(r=i[0])||void 0===r?void 0:r.name}),o="catalog/recipe-categories";m.Z.create(u).then((function(){d.Am.success(e("successfully.updated")),(0,p.dC)((function(){n((0,Z.ph)((0,a.Z)((0,a.Z)({},j),{},{nextUrl:o}))),n((0,h.P2)({}))})),t("/".concat(o))})).catch((function(e){return S(e.response.data.params)}))},error:O})})}}}]);