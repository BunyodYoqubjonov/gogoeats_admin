"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5739],{4014:function(e,n,i){function l(e){var n,i,l=null===e||void 0===e?void 0:e.slice(0,1),s=null===e||void 0===e?void 0:e.lastIndexOf("@"),d=null===e||void 0===e?void 0:e.slice(1,s-1);d=null===(n=d)||void 0===n?void 0:n.replace(/./g,"*");var o=null===e||void 0===e?void 0:e.slice(s-1,e.length);return null===l||void 0===l||null===(i=l.concat(d))||void 0===i?void 0:i.concat(o)}i.d(n,{Z:function(){return l}})},89281:function(e,n,i){i.d(n,{h:function(){return x}});var l=i(1413),s=i(29439),d=i(45987),o=i(47313),t=i(12279),r=i.n(t),a=i(74294),c=i(72652),u=i(46417),v=["fetchOptions","debounceTimeout","onClear"],x=function(e){var n=e.fetchOptions,i=e.debounceTimeout,t=void 0===i?400:i,x=e.onClear,m=(0,d.Z)(e,v),h=(0,o.useState)(!1),j=(0,s.Z)(h,2),p=j[0],f=j[1],Z=(0,o.useState)([]),y=(0,s.Z)(Z,2),g=y[0],b=y[1],N=(0,o.useMemo)((function(){return r()((function(e){b([]),f(!0),n(e).then((function(e){b(e),f(!1)}))}),t)}),[n,t]);return(0,u.jsx)(a.Z,(0,l.Z)((0,l.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:N,onClear:function(){N(""),x&&x()},notFoundContent:p?(0,u.jsx)(c.Z,{size:"small"}):"no results"},m),{},{options:g,onFocus:function(){N("")}}))}},17649:function(e,n,i){i.d(n,{Z:function(){return l}});i(97421);function l(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,i){function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";if(!e)return"0";var i=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return n+" "+i}i.d(n,{Z:function(){return l}})},65739:function(e,n,i){i.r(n),i.d(n,{default:function(){return E}});var l=i(29439),s=i(47313),d=i(45705),o=i(37388),t=i(66204),r=i(26824),a=i(77181),c=i(59491),u=i(68197),v=i(59624),x=i(56140),m=i(14133),h=i(83999),j=i(72652),p=i(78508),f=i(45334),Z=i(41068),y=i(49959),g=i(12019),b=i(89720),N=i(97890),_=i(29466),w=i(7370),k=i(45464),C=i(2717),I=i(90954),Y=i(7920),S=i(24077),D=i(24511),M=i(84017),q=i(73270),z=i(22539),B=i(80355),H=i(32916),T=i(97421),F=i(58821),U=i(5958),A=i(70816),V=i.n(A),G=i(3394),L=i(40197),O=i(79492),$=i(4014),P=i(46417);function E(){var e,n,i,A,E,Q,R,J,K,W,X,ee,ne,ie,le,se,de,oe,te,re,ae,ce,ue,ve,xe,me,he,je,pe,fe,Ze,ye,ge,be,Ne,_e,we,ke,Ce,Ie=(0,C.v9)((function(e){return e.menu}),C.wU).activeMenu,Ye=(0,C.v9)((function(e){return e.currency}),C.wU).defaultCurrency,Se=Ie.data,De=(0,D.$)().t,Me=(0,N.UO)().id,qe=(0,C.I0)(),ze=(0,N.s0)(),Be=(0,s.useRef)(),He=(0,s.useRef)(),Te=(0,O.Z)().isDemo,Fe=(0,s.useState)(null),Ue=(0,l.Z)(Fe,2),Ae=Ue[0],Ve=Ue[1],Ge=(0,s.useState)(!1),Le=(0,l.Z)(Ge,2),Oe=Le[0],$e=Le[1],Pe=(0,s.useState)(null),Ee=(0,l.Z)(Pe,2),Qe=Ee[0],Re=Ee[1],Je=(0,s.useState)(null),Ke=(0,l.Z)(Je,2),We=Ke[0],Xe=Ke[1],en=(0,C.v9)((function(e){return e.orderStatus}),C.wU).statusList,nn=[{title:De("id"),dataIndex:"id",key:"id",render:function(e,n){var i;return null===(i=n.stock)||void 0===i?void 0:i.id}},{title:De("product.name"),dataIndex:"product",key:"product",render:function(e,n){var i,l,s,r;return(0,P.jsxs)(d.Z,{direction:"vertical",className:"relative",children:[null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title,!!n.note&&(0,P.jsx)(o.Z,{title:n.note,className:"product-note",children:(0,P.jsx)(y.Z,{})})," ",null===(r=n.addons)||void 0===r?void 0:r.map((function(e){var n,i,l;return(0,P.jsxs)(t.Z,{children:[null===(n=e.stock)||void 0===n||null===(i=n.product)||void 0===i||null===(l=i.translation)||void 0===l?void 0:l.title," x ",e.quantity]},e.id)}))]})}},{title:De("image"),dataIndex:"img",key:"img",render:function(e,n){var i,l;return(0,P.jsx)(r.Z,{src:(0,k.Z)(null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l?void 0:l.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:De("price"),dataIndex:"origin_price",key:"origin_price",render:function(e){return(0,M.Z)(e,null===Ye||void 0===Ye?void 0:Ye.symbol)}},{title:De("quantity"),dataIndex:"quantity",key:"quantity",render:function(e,n){var i,l,s,d,o,t;return(0,P.jsxs)("span",{children:[n.quantity*((null===n||void 0===n||null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l?void 0:l.interval)||1),null===n||void 0===n||null===(s=n.stock)||void 0===s||null===(d=s.product)||void 0===d||null===(o=d.unit)||void 0===o||null===(t=o.translation)||void 0===t?void 0:t.title]})}},{title:De("discount"),dataIndex:"discount",key:"discount",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return(0,M.Z)(e/n.quantity,null===Ye||void 0===Ye?void 0:Ye.symbol)}},{title:De("tax"),dataIndex:"tax",key:"tax",render:function(e,n){return(0,M.Z)(e/n.quantity,null===Ye||void 0===Ye?void 0:Ye.symbol)}},{title:De("total.price"),dataIndex:"total_price",key:"total_price",render:function(e,n){var i,l=e+(null===n||void 0===n||null===(i=n.addons)||void 0===i?void 0:i.reduce((function(e,n){return e+n.total_price}),0));return(0,M.Z)(l,null===Ye||void 0===Ye?void 0:Ye.symbol)}}],ln=[{title:De("date"),dataIndex:"date",key:"date",render:function(e,n){return V()(null===n||void 0===n?void 0:n.date).format("YYYY-MM-DD HH:mm")}},{title:De("document"),dataIndex:"document",key:"document"},{title:De("number"),dataIndex:"number",key:"number"},{title:De("total.price"),dataIndex:"price",key:"price"}],sn=[{price:(0,M.Z)(null===Se||void 0===Se?void 0:Se.total_price,Ye.symbol),number:(0,P.jsxs)(_.rU,{to:"/orders/generate-invoice/".concat(null===Se||void 0===Se?void 0:Se.id),children:["#",null===Se||void 0===Se?void 0:Se.id]}),document:De("invoice"),date:V()(null===Se||void 0===Se||null===(e=Se.transaction)||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm")},{price:"-",number:(0,P.jsxs)(_.rU,{to:"/orders/generate-invoice/".concat(null===Se||void 0===Se?void 0:Se.id),children:["#",null===Se||void 0===Se?void 0:Se.id]}),document:De("delivery.reciept"),date:V()(null===Se||void 0===Se||null===(n=Se.transaction)||void 0===n?void 0:n.created_at).format("YYYY-MM-DD HH:mm")}],dn=function(){Re(null),Xe(null),Ve(null)};(0,s.useEffect)((function(){Ie.refetch&&($e(!0),w.Z.getById(Me).then((function(e){var n=e.data;qe((0,I.nc)({activeMenu:Ie,data:n}))})).finally((function(){$e(!1),qe((0,I.A_)(Ie))})),0===en.length&&qe((0,L.dX)({})))}),[Ie.refetch]);return(0,P.jsxs)("div",{className:"order_details",children:[(0,P.jsx)(a.Z,{className:"order-details-info",title:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(H.Qyq,{className:"mr-2 icon"}),"".concat(De("order")," ").concat(null!==Se&&void 0!==Se&&Se.id?"#".concat(null===Se||void 0===Se?void 0:Se.id," "):"")," ",De("from.order")," ",null===Se||void 0===Se||null===(i=Se.user)||void 0===i?void 0:i.firstname," ",(null===Se||void 0===Se||null===(A=Se.user)||void 0===A?void 0:A.lastname)||""]}),extra:"delivered"!==(null===Se||void 0===Se?void 0:Se.status)&&"canceled"!==(null===Se||void 0===Se?void 0:Se.status)?(0,P.jsxs)(d.Z,{children:["delivered"!==(null===Se||void 0===Se?void 0:Se.status)&&"canceled"!==(null===Se||void 0===Se?void 0:Se.status)?(0,P.jsx)(c.Z,{type:"primary",onClick:function(){return Re(Se)},children:De("change.status")}):null,(0,P.jsx)(c.Z,{type:"primary",icon:(0,P.jsx)(g.Z,{}),onClick:function(){qe((0,q.bn)()),qe((0,I.bL)({url:"order/".concat(Me),id:"order_edit",name:De("edit.order")})),ze("/order/".concat(Me))},children:De("edit")})]}):""}),(0,P.jsxs)(u.Z,{gutter:24,children:[(0,P.jsx)(v.Z,{span:24,children:(0,P.jsx)(a.Z,{children:(0,P.jsxs)(d.Z,{className:"justify-content-between w-100",children:[(0,P.jsxs)(d.Z,{className:"align-items-start",children:[(0,P.jsx)(b.Z,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:De("delivery.date")}),Oe?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsxs)(x.Z.Text,{className:"order-card-title",children:[null===Se||void 0===Se?void 0:Se.delivery_date," ",null===Se||void 0===Se?void 0:Se.delivery_time]})]})]}),(0,P.jsxs)(d.Z,{className:"align-items-start",onClick:function(){return He.current.scrollIntoView({behavior:"smooth"})},children:[(0,P.jsx)(U.iFN,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:De("total.price")}),Oe?(0,P.jsx)(m.Z.Button,{size:16,loading:Oe}):(0,P.jsx)(x.Z.Text,{className:"order-card-title",children:(0,M.Z)(null===Se||void 0===Se?void 0:Se.total_price,null===Ye||void 0===Ye?void 0:Ye.symbol)})]})]}),(0,P.jsxs)(d.Z,{className:"align-items-start",children:[(0,P.jsx)(U.Dij,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:De("messages")}),Oe?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(x.Z.Text,{className:"order-card-title",children:null!==Se&&void 0!==Se&&Se.review?1:0})]})]}),(0,P.jsxs)(d.Z,{className:"align-items-start",onClick:function(){return Be.current.scrollIntoView({behavior:"smooth"})},children:[(0,P.jsx)(H.Qyq,{className:"order-card-icon"}),(0,P.jsxs)("div",{className:"d-flex flex-column",children:[(0,P.jsx)(x.Z.Text,{children:De("products")}),Oe?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(x.Z.Text,{className:"order-card-title",children:null===Se||void 0===Se||null===(E=Se.details)||void 0===E?void 0:E.reduce((function(e,n){return e+n.quantity}),0)})]})]})]})})}),"canceled"!==(null===Se||void 0===Se?void 0:Se.status)&&(0,P.jsx)(v.Z,{span:24,children:(0,P.jsx)(a.Z,{children:(0,P.jsx)(h.Z,{current:null===en||void 0===en?void 0:en.findIndex((function(e){return e.name===(null===Se||void 0===Se?void 0:Se.status)})),children:null===en||void 0===en?void 0:en.slice(0,-1).map((function(e){return(0,P.jsx)(h.Z.Step,{title:De(e.name)},e.id)}))})})}),(0,P.jsxs)(v.Z,{span:16,children:[(0,P.jsx)(j.Z,{spinning:Oe,children:(0,P.jsx)(a.Z,{style:{minHeight:"200px"},children:(0,P.jsxs)(u.Z,{hidden:Oe,className:"mb-3 order_detail",children:[(0,P.jsxs)(v.Z,{span:12,children:[(0,P.jsxs)("div",{children:[De("created.date.&.time"),":",(0,P.jsxs)("span",{className:"ml-2",children:[(0,P.jsx)(F.yoA,{className:"mr-1"})," ",V()(null===Se||void 0===Se?void 0:Se.created_at).format("YYYY-MM-DD HH:mm")," "]})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("delivery.date.&.time"),":",(0,P.jsxs)("span",{className:"ml-2",children:[(0,P.jsx)(F.yoA,{className:"mr-1"})," ",null===Se||void 0===Se?void 0:Se.delivery_date," ",null===Se||void 0===Se?void 0:Se.delivery_time]})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("payment.status"),":",(0,P.jsx)("span",{className:"ml-2",children:De(null===Se||void 0===Se||null===(Q=Se.transaction)||void 0===Q?void 0:Q.status)})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("house"),":",(0,P.jsx)("span",{className:"ml-2",children:De(null===Se||void 0===Se||null===(R=Se.address)||void 0===R?void 0:R.house)})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("floor"),":",(0,P.jsx)("span",{className:"ml-2",children:De(null===Se||void 0===Se||null===(J=Se.address)||void 0===J?void 0:J.floor)})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("note"),":",(0,P.jsx)("span",{className:"ml-2",children:De(null!==Se&&void 0!==Se&&Se.note?null===Se||void 0===Se?void 0:Se.note:"")})]}),(0,P.jsxs)(t.Z,{className:"map_show mt-3",onClick:function(){return Ve(Me)},children:[(0,P.jsx)(z.$0r,{})," ",De("show.locations")]})]}),(0,P.jsxs)(v.Z,{span:12,children:[(0,P.jsxs)("div",{children:[De("status"),":",(0,P.jsx)("span",{className:"ml-2",children:"new"===(null===Se||void 0===Se?void 0:Se.status)?(0,P.jsx)(t.Z,{color:"blue",children:De(null===Se||void 0===Se?void 0:Se.status)}):"canceled"===(null===Se||void 0===Se?void 0:Se.status)?(0,P.jsx)(t.Z,{color:"error",children:De(null===Se||void 0===Se?void 0:Se.status)}):(0,P.jsx)(t.Z,{color:"cyan",children:De(null===Se||void 0===Se?void 0:Se.status)})})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("delivery.type"),":",(0,P.jsx)("span",{className:"ml-2",children:null===Se||void 0===Se?void 0:Se.delivery_type})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("payment.type"),":",(0,P.jsx)("span",{className:"ml-2",children:De(null===Se||void 0===Se||null===(K=Se.transaction)||void 0===K||null===(W=K.payment_system)||void 0===W?void 0:W.tag)})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("address"),":",(0,P.jsx)("span",{className:"ml-2",children:null===Se||void 0===Se||null===(X=Se.address)||void 0===X?void 0:X.address})]}),(0,P.jsx)("br",{}),(0,P.jsxs)("div",{children:[De("office"),":",(0,P.jsx)("span",{className:"ml-2",children:null===Se||void 0===Se||null===(ee=Se.address)||void 0===ee?void 0:ee.office})]}),(0,P.jsx)("br",{})]})]})})}),(0,P.jsx)(a.Z,{title:De("documents"),children:(0,P.jsx)(p.Z,{columns:ln,dataSource:sn,pagination:!1,loading:Oe})}),(0,P.jsxs)(a.Z,{className:"w-100 order-table",children:[(0,P.jsx)(p.Z,{ref:Be,scroll:{x:!0},columns:nn,dataSource:(null===(ne=Ie.data)||void 0===ne?void 0:ne.details)||[],loading:Oe,rowKey:function(e){return e.id},pagination:!1}),(0,P.jsxs)(d.Z,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)("span",{children:[De("delivery.fee"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("span",{children:[De("order.tax"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("span",{children:[De("product"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("span",{children:[De("discount"),":"]}),(0,P.jsx)("br",{}),(null===Se||void 0===Se?void 0:Se.coupon)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("span",{children:[De("coupon"),":"]}),(0,P.jsx)("br",{})]}),(0,P.jsxs)("span",{children:[De("service.fee"),":"]}),(0,P.jsx)("br",{}),(0,P.jsxs)("h3",{children:[De("total.price"),":"]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:(0,M.Z)(null===Se||void 0===Se?void 0:Se.delivery_fee,null===Ye||void 0===Ye?void 0:Ye.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:(0,M.Z)(null===Se||void 0===Se?void 0:Se.tax,null===Ye||void 0===Ye?void 0:Ye.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:(0,M.Z)(null===Se||void 0===Se?void 0:Se.origin_price,null===Ye||void 0===Ye?void 0:Ye.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:(0,M.Z)(null===Se||void 0===Se?void 0:Se.total_discount,null===Ye||void 0===Ye?void 0:Ye.symbol)}),(0,P.jsx)("br",{}),(null===Se||void 0===Se?void 0:Se.coupon)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{children:(0,M.Z)(null===Se||void 0===Se||null===(ie=Se.coupon)||void 0===ie?void 0:ie.price,null===Ye||void 0===Ye?void 0:Ye.symbol)}),(0,P.jsx)("br",{})]}),(0,P.jsx)("span",{children:(0,M.Z)(null===Se||void 0===Se?void 0:Se.service_fee,null===Ye||void 0===Ye?void 0:Ye.symbol)}),(0,P.jsx)("br",{}),(0,P.jsx)("h3",{ref:He,children:(0,M.Z)(null===Se||void 0===Se?void 0:Se.total_price,null===Ye||void 0===Ye?void 0:Ye.symbol)})]})]})]})]}),(0,P.jsxs)(v.Z,{span:8,className:"order_info",children:[(0,P.jsxs)(a.Z,{title:De("deliveryman"),extra:"ready"===(null===Se||void 0===Se?void 0:Se.status)&&"pickup"!==(null===Se||void 0===Se?void 0:Se.delivery_type)&&(0,P.jsxs)(c.Z,{onClick:function(){return Xe(Se)},children:[De("change"),(0,P.jsx)(g.Z,{})]}),children:["new"===(null===Se||void 0===Se?void 0:Se.status)||"accepted"===(null===Se||void 0===Se?void 0:Se.status)?(0,P.jsx)("p",{children:De("order_status_ready")}):"","new"===(null===Se||void 0===Se?void 0:Se.status)||"accepted"===(null===Se||void 0===Se?void 0:Se.status)||null!==Se&&void 0!==Se&&Se.deliveryman?"":(0,P.jsx)("p",{children:De("The supplier is not assigned or delivery type pickup")}),(null===Se||void 0===Se?void 0:Se.deliveryman)&&(0,P.jsxs)(d.Z,{children:[(0,P.jsx)(f.C,{shape:"square",size:64,src:T.bV+(null===Se||void 0===Se||null===(le=Se.deliveryman)||void 0===le?void 0:le.img)}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("h5",{children:[null===Se||void 0===Se||null===(se=Se.deliveryman)||void 0===se?void 0:se.firstname," ",(null===Se||void 0===Se||null===(de=Se.deliveryman)||void 0===de?void 0:de.lastname)||""]}),(0,P.jsxs)("span",{className:"delivery-info",children:[(0,P.jsx)(F.lfG,{}),null===Se||void 0===Se||null===(oe=Se.deliveryman)||void 0===oe?void 0:oe.phone]}),(0,P.jsxs)("div",{className:"delivery-info",children:[(0,P.jsx)("b",{children:(0,P.jsx)(z.ixJ,{size:16})}),(0,P.jsx)("span",{children:Te?(0,$.Z)(null===Se||void 0===Se||null===(te=Se.deliveryman)||void 0===te?void 0:te.email):null===Se||void 0===Se||null===(re=Se.deliveryman)||void 0===re?void 0:re.email})]})]})]})]}),!(null===Se||void 0===Se||!Se.username)&&(0,P.jsxs)(a.Z,{title:De("order.receiver"),children:[(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:De("name")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(F.HHm,{}),null===Se||void 0===Se?void 0:Se.username]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:De("phone")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(F.lfG,{}),null===Se||void 0===Se?void 0:Se.phone]})]})]}),(0,P.jsx)(a.Z,{title:(0,P.jsxs)(d.Z,{children:[De("customer.info"),(0,P.jsx)(g.Z,{onClick:function(){return qe((0,I.bL)({url:"users/user/".concat(null===Se||void 0===Se?void 0:Se.user.uuid),id:"user_info",name:De("user.info")})),void ze("/users/user/".concat(null===Se||void 0===Se?void 0:Se.user.uuid),{state:{user_id:null===Se||void 0===Se?void 0:Se.user.id}})}})]}),children:(0,P.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Oe?(0,P.jsx)(m.Z.Avatar,{size:64,shape:"square"}):(0,P.jsx)(f.C,{shape:"square",size:64,src:null===Se||void 0===Se||null===(ae=Se.user)||void 0===ae?void 0:ae.img}),(0,P.jsx)("h5",{className:"customer-name",children:Oe?(0,P.jsx)(m.Z.Button,{size:20,style:{width:70}}):(null===Se||void 0===Se||null===(ce=Se.user)||void 0===ce?void 0:ce.firstname)+" "+((null===Se||void 0===Se||null===(ue=Se.user)||void 0===ue?void 0:ue.lastname)||"")}),(0,P.jsxs)("div",{className:"customer-info-detail",children:[(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:De("phone")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(F.lfG,{}),Oe?(0,P.jsx)(m.Z.Button,{size:16}):(null===Se||void 0===Se||null===(ve=Se.user)||void 0===ve?void 0:ve.phone)||"none"]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:De("email")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(z.ixJ,{}),Oe?(0,P.jsx)(m.Z.Button,{size:16}):Te?(0,$.Z)(null===Se||void 0===Se||null===(xe=Se.user)||void 0===xe?void 0:xe.email):null===Se||void 0===Se||null===(me=Se.user)||void 0===me?void 0:me.email]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:De("registration.date")}),(0,P.jsxs)("span",{className:"description",children:[(0,P.jsx)(F.yoA,{}),Oe?(0,P.jsx)(m.Z.Button,{size:16}):V()(null===Se||void 0===Se||null===(he=Se.user)||void 0===he?void 0:he.created_at).format("DD-MM-YYYY, HH:mm")]})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:De("orders.count")}),(0,P.jsx)("span",{className:"description",children:Oe?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(Z.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===Se||void 0===Se||null===(je=Se.user)||void 0===je?void 0:je.orders_count)||0})})]}),(0,P.jsxs)("div",{className:"customer-info",children:[(0,P.jsx)("span",{className:"title",children:De("spent.since.registration")}),(0,P.jsx)("span",{className:"description",children:Oe?(0,P.jsx)(m.Z.Button,{size:16}):(0,P.jsx)(Z.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,M.Z)(null===Se||void 0===Se||null===(pe=Se.user)||void 0===pe?void 0:pe.orders_sum_price,null===Ye||void 0===Ye?void 0:Ye.symbol)})})]})]})]})}),(null===Se||void 0===Se?void 0:Se.review)&&!Oe&&(0,P.jsx)(a.Z,{title:De("messages"),children:(0,P.jsxs)("div",{className:"order-message",children:[(0,P.jsx)("span",{className:"message",children:null===Se||void 0===Se||null===(fe=Se.review)||void 0===fe?void 0:fe.comment}),(0,P.jsx)(d.Z,{className:"w-100 justify-content-end",children:(0,P.jsx)("span",{className:"date",children:V()(null===Se||void 0===Se||null===(Ze=Se.review)||void 0===Ze?void 0:Ze.created_at).format("YYYY-MM-DD HH:mm")})})]})}),(0,P.jsx)(a.Z,{title:De("store.information"),children:Oe?(0,P.jsx)(m.Z,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,P.jsxs)(d.Z,{className:"w-100",children:[(0,P.jsx)(f.C,{shape:"square",size:64,src:T.bV+(null===Se||void 0===Se||null===(ye=Se.shop)||void 0===ye?void 0:ye.logo_img)}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h5",{children:null===Se||void 0===Se||null===(ge=Se.shop)||void 0===ge||null===(be=ge.translation)||void 0===be?void 0:be.title}),(null===Se||void 0===Se||null===(Ne=Se.shop)||void 0===Ne?void 0:Ne.phone)&&(0,P.jsxs)("div",{className:"delivery-info",children:[(0,P.jsx)("b",{children:(0,P.jsx)(F.lfG,{})}),(0,P.jsx)("span",{children:null===Se||void 0===Se||null===(_e=Se.shop)||void 0===_e?void 0:_e.phone})]}),(0,P.jsxs)("div",{className:"delivery-info my-1",children:[(0,P.jsxs)("strong",{children:[De("min.delivery.price"),":"]}),(0,P.jsx)("span",{children:(0,M.Z)(null===Se||void 0===Se||null===(we=Se.shop)||void 0===we?void 0:we.price,null===Ye||void 0===Ye?void 0:Ye.symbol)})]}),(0,P.jsxs)("div",{className:"delivery-info",children:[(0,P.jsx)("b",{children:(0,P.jsx)(G.CDT,{size:16})}),(0,P.jsx)("span",{children:null===Se||void 0===Se||null===(ke=Se.shop)||void 0===ke||null===(Ce=ke.translation)||void 0===Ce?void 0:Ce.address})]})]})]})})]})]}),Qe&&(0,P.jsx)(Y.Z,{orderDetails:Qe,handleCancel:dn,status:en}),We&&(0,P.jsx)(S.Z,{orderDetails:We,handleCancel:dn}),Ae&&(0,P.jsx)(B.Z,{id:Ae,handleCancel:dn})]})}},24077:function(e,n,i){i.d(n,{Z:function(){return y}});var l=i(15861),s=i(29439),d=i(87757),o=i.n(d),t=i(47313),r=i(10976),a=i(9274),c=i(59491),u=i(68197),v=i(59624),x=i(2717),m=i(7370),h=i(90954),j=i(24511),p=i(49986),f=i(89281),Z=i(46417);function y(e){var n,i,d,y=e.orderDetails,g=e.handleCancel,b=(0,j.$)().t,N=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,_=r.Z.useForm(),w=(0,s.Z)(_,1)[0],k=(0,x.I0)(),C=(0,t.useState)(!1),I=(0,s.Z)(C,2),Y=I[0],S=I[1];function D(){return(D=(0,l.Z)(o().mark((function e(n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={search:n.length?n:void 0,page:1,perPage:10,role:"deliveryman",shop_id:y.shop.id,exist_token:1},e.abrupt("return",p.Z.getAll(i).then((function(e){return e.data.map((function(e){return{label:e.firstname+" "+e.lastname||"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.jsx)(a.Z,{visible:!!y,onCancel:g,footer:[(0,Z.jsx)(c.Z,{type:"primary",onClick:function(){return w.submit()},loading:Y,children:b("save")},"saveBtn"),(0,Z.jsx)(c.Z,{type:"default",onClick:g,children:b("cancel")},"cancelBtn")],children:(0,Z.jsx)(r.Z,{form:w,layout:"vertical",onFinish:function(e){var n={deliveryman:e.deliveryman.value};S(!0),m.Z.updateDelivery(y.id,n).then((function(){g(),k((0,h.xo)(N))})).finally((function(){return S(!1)}))},initialValues:{deliveryman:{label:y.deliveryman?(null===y||void 0===y||null===(n=y.deliveryman)||void 0===n?void 0:n.firstname)+" "+(null===y||void 0===y||null===(i=y.deliveryman)||void 0===i?void 0:i.lastname):null,value:y.deliveryman?null===y||void 0===y||null===(d=y.deliveryman)||void 0===d?void 0:d.id:null}},children:(0,Z.jsx)(u.Z,{gutter:12,children:(0,Z.jsx)(v.Z,{span:24,children:(0,Z.jsx)(r.Z.Item,{label:b("deliveryman"),name:"deliveryman",rules:[{required:!0,message:b("required")}],children:(0,Z.jsx)(f.h,{className:"w-100",debounceTimeout:500,placeholder:b("select.shop"),fetchOptions:function(e){return D.apply(this,arguments)},allowClear:!0})})})})})})}},7920:function(e,n,i){i.d(n,{Z:function(){return p}});var l=i(1413),s=i(29439),d=i(47313),o=i(10976),t=i(9274),r=i(59491),a=i(68197),c=i(59624),u=i(74294),v=i(2717),x=i(24511),m=i(7370),h=i(90954),j=i(46417);function p(e){var n=e.orderDetails,i=e.handleCancel,p=e.status,f=(0,v.v9)((function(e){return e.menu}),v.wU).activeMenu,Z=o.Z.useForm(),y=(0,s.Z)(Z,1)[0],g=(0,v.I0)(),b=(0,x.$)().t,N=(0,d.useState)(!1),_=(0,s.Z)(N,2),w=_[0],k=_[1],C=(0,d.useState)(p),I=(0,s.Z)(C,2),Y=I[0],S=I[1];(0,d.useEffect)((function(){var e=p.findIndex((function(e){return e.name===n.status})),i=[p[e],p[e+1],{name:"canceled",id:8,active:!0}];e<0&&(i=[p[e+1],"canceled"]),S(i)}),[n]);return(0,j.jsx)(t.Z,{visible:!!n,title:n.title,onCancel:i,footer:[(0,j.jsx)(r.Z,{type:"primary",onClick:function(){return y.submit()},loading:w,children:b("save")},"save-form"),(0,j.jsx)(r.Z,{type:"default",onClick:i,children:b("cancel")},"cansel-modal")],children:(0,j.jsx)(o.Z,{form:y,layout:"vertical",onFinish:function(e){k(!0);var s=(0,l.Z)({},e);m.Z.updateStatus(n.id,s).then((function(){i(),g((0,h.xo)(f))})).finally((function(){return k(!1)}))},initialValues:{status:n.status},children:(0,j.jsx)(a.Z,{gutter:12,children:(0,j.jsx)(c.Z,{span:24,children:(0,j.jsx)(o.Z.Item,{label:b("status"),name:"status",rules:[{required:!0,message:b("required")}],children:(0,j.jsx)(u.Z,{children:null===Y||void 0===Y?void 0:Y.map((function(e){return(0,j.jsx)(u.Z.Option,{value:null===e||void 0===e?void 0:e.name,children:b(null===e||void 0===e?void 0:e.name)},null===e||void 0===e?void 0:e.name)}))})})})})})})}},80355:function(e,n,i){var l=i(29439),s=i(84697),d=i(83999),o=i(9274),t=i(59491),r=i(77181),a=i(68197),c=i(59624),u=i(66204),v=i(47313),x=i(24511),m=i(7370),h=i(51282),j=i(58821),p=i(2717),f=i(97421),Z=i(18478),y=i(84618),g=i(17649),b=i(66461),N=i(22539),_=i(3394),w=i(57864),k=i(70816),C=i.n(k),I=i(46417),Y=d.Z.Step,S=function(){return(0,I.jsx)("img",{src:Z,width:"50",alt:"Pin"})},D=function(){return(0,I.jsx)("img",{src:y,width:"50",alt:"Pin"})},M=["blue","red","gold","volcano","cyan","lime"];n.Z=function(e){var n,i,Z,y,k,q,z=e.id,B=e.handleCancel,H=(0,x.$)().t,T=(0,v.useState)(null),F=(0,l.Z)(T,2),U=F[0],A=F[1],V=(0,v.useState)(null),G=(0,l.Z)(V,2),L=G[0],O=G[1],$=(0,v.useState)(null),P=(0,l.Z)($,2),E=P[0],Q=P[1],R=(0,p.v9)((function(e){return e.globalSettings}),p.wU).settings,J=(0,g.Z)(R),K=(0,v.useState)(0),W=(0,l.Z)(K,2),X=W[0],ee=W[1],ne=(0,v.useState)((0,g.Z)(R)),ie=(0,l.Z)(ne,2),le=ie[0],se=ie[1],de=(0,v.useState)((0,g.Z)(R)),oe=(0,l.Z)(de,2),te=oe[0],re=oe[1],ae=(0,v.useState)([{id:0,name:"new",icon:(0,I.jsx)(b.Z,{})},{id:1,name:"accepted",icon:(0,I.jsx)(j.IQF,{})},{id:2,name:"ready",icon:(0,I.jsx)(N.TkG,{})},{id:3,name:"on_a_way",icon:(0,I.jsx)(_.Akc,{})},{id:4,name:"delivered",icon:(0,I.jsx)(_.kme,{})}]),ce=(0,l.Z)(ae,2),ue=ce[0],ve=ce[1];var xe=(0,p.v9)((function(e){return e.globalSettings.settings}),p.wU).google_map_key;(0,v.useEffect)((function(){A(!0),m.Z.getById(z).then((function(e){var n,i=e.data;ve("canceled"===i.status?[{id:1,name:"new",icon:(0,I.jsx)(b.Z,{})},{id:5,name:"canceled",icon:(0,I.jsx)(w.SV5,{})}]:ue),ee("canceled"===i.status?1:null===(n=ue.find((function(e){return e.name===i.status})))||void 0===n?void 0:n.id),Q("canceled"===i.status?"error":"success"),O(i),re({lat:i.location.latitude,lng:i.location.longitude}),se({lat:i.shop.location.latitude,lng:i.shop.location.longitude})})).finally((function(){A(!1)}))}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(o.Z,{visible:!!z,title:H("show.locations"),onCancel:function(){return B()},style:{minWidth:"80vw"},footer:[(0,I.jsx)(t.Z,{type:"default",onClick:B,children:H("cancel")},"cancelBtn")],children:U?(0,I.jsx)(h.Z,{}):(0,I.jsxs)(r.Z,{children:[(0,I.jsx)(d.Z,{current:X,status:E,className:"mb-5",children:null===ue||void 0===ue?void 0:ue.map((function(e,n){return(0,I.jsx)(Y,{title:H(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+n)}))}),(0,I.jsxs)(a.Z,{gutter:12,children:[(0,I.jsxs)(c.Z,{span:12,children:[(0,I.jsxs)("h3",{children:[H("order.id")," #",null===L||void 0===L?void 0:L.id]}),(0,I.jsxs)("p",{children:[(0,I.jsx)(j.D73,{})," ",C()(null===L||void 0===L?void 0:L.created_at).format("YYYY-MM-DD HH:mm")]}),(0,I.jsxs)("p",{children:[H("schedulet.at")," ",null===L||void 0===L?void 0:L.delivery_date]}),(0,I.jsxs)("span",{children:[(0,I.jsx)("strong",{children:null===L||void 0===L||null===(n=L.shop)||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title})," ",null===L||void 0===L||null===(Z=L.details)||void 0===Z?void 0:Z.map((function(e,n){var i,l,s;return(0,I.jsx)(u.Z,{color:M[n],children:null===e||void 0===e||null===(i=e.stock)||void 0===i||null===(l=i.product)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title})}))]})]}),(0,I.jsxs)(c.Z,{span:12,children:[(0,I.jsxs)("p",{children:[H("status")," ","new"===(null===L||void 0===L?void 0:L.status)?(0,I.jsx)(u.Z,{color:"blue",children:H(null===L||void 0===L?void 0:L.status)}):"canceled"===(null===L||void 0===L?void 0:L.status)?(0,I.jsx)(u.Z,{color:"error",children:H(null===L||void 0===L?void 0:L.status)}):(0,I.jsx)(u.Z,{color:"cyan",children:H(null===L||void 0===L?void 0:L.status)})]}),(0,I.jsxs)("p",{children:[H("payment.method")," ",(0,I.jsx)("strong",{children:null===L||void 0===L||null===(y=L.transaction)||void 0===y||null===(k=y.payment_system)||void 0===k?void 0:k.tag})]}),(0,I.jsxs)("p",{children:[H("order.type")," ",(0,I.jsx)("strong",{children:null===L||void 0===L?void 0:L.delivery_type})]}),(0,I.jsxs)("p",{children:[H("payment.type")," ",(0,I.jsx)("strong",{children:null===L||void 0===L||null===(q=L.transaction)||void 0===q?void 0:q.status})]})]}),(0,I.jsxs)(c.Z,{span:24,className:"mt-5",children:[(0,I.jsx)("h4",{children:H("map")}),(0,I.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,I.jsxs)(s.ZP,{bootstrapURLKeys:{key:f.kr||xe},defaultZoom:15,center:J,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:function(e){for(var n=e.map,i=e.maps,l=[le,te].map((function(e){return{lat:Number(e.lat||"0"),lng:Number(e.lng||"0")}})),s=new i.LatLngBounds,d=0;d<l.length;d++)s.extend(l[d]);n.fitBounds(s)},children:[(0,I.jsx)(D,{lat:null===le||void 0===le?void 0:le.lat,lng:null===le||void 0===le?void 0:le.lng}),(0,I.jsx)(S,{lat:null===te||void 0===te?void 0:te.lat,lng:null===te||void 0===te?void 0:te.lng})]})})]})]})]})})})}},84618:function(e,n,i){e.exports=i.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:function(e,n,i){e.exports=i.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);