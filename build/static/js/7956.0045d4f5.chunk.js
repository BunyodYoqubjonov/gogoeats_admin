"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7956],{52008:function(e,l,a){a(47313);l.Z=a.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},89802:function(e,l,a){a.d(l,{q:function(){return o}});var r=a(1413),n=a(29439),s=a(45987),i=a(47313),t=a(74294),u=a(72652),d=a(46417),c=["fetchOptions","refetch"],o=function(e){var l=e.fetchOptions,a=e.refetch,o=void 0!==a&&a,p=(0,s.Z)(e,c),m=(0,i.useState)(!1),x=(0,n.Z)(m,2),h=x[0],Z=x[1],j=(0,i.useState)([]),y=(0,n.Z)(j,2),v=y[0],f=y[1];return(0,d.jsx)(t.Z,(0,r.Z)((0,r.Z)({labelInValue:!0,filterOption:!1,notFoundContent:h?(0,d.jsx)(u.Z,{size:"small"}):"no results"},p),{},{options:h?[]:v,onFocus:function(){v.length&&!o||(Z(!0),l().then((function(e){f(e),Z(!1)})))}}))}},67956:function(e,l,a){a.r(l);var r=a(1413),n=a(29439),s=a(47313),i=a(97890),t=a(23560),u=a(10976),d=a(77181),c=a(68197),o=a(59624),p=a(74294),m=a(72652),x=a(66672),h=a(86345),Z=a(59491),j=a(2717),y=a(90954),v=a(24511),f=a(52008),b=a(26672),g=a(92709),q=a(91260),_=a(89802),k=a(30554),I=a(6957),w=a(79053),z=a(5764),N=a(46417);l.default=function(){var e,l,a,F=(0,v.$)().t,O=(0,j.v9)((function(e){return e.menu}),j.wU).activeMenu,A=(0,j.I0)(),V=u.Z.useForm(),C=(0,n.Z)(V,1)[0],P=(0,i.s0)(),S=(0,i.UO)().id,U=(0,s.useState)(!1),B=(0,n.Z)(U,2),L=B[0],W=B[1],E=(0,s.useState)(!1),M=(0,n.Z)(E,2),D=M[0],K=M[1],R=(0,j.v9)((function(e){return e.formLang}),j.wU).languages,T=(0,s.useState)(null),$=(0,n.Z)(T,2),G=$[0],H=$[1],J=(0,s.useState)(null!==(e=O.data)&&void 0!==e&&e.image?[null===(l=O.data)||void 0===l?void 0:l.image]:[]),Q=(0,n.Z)(J,2),X=Q[0],Y=Q[1],ee=(0,j.v9)((function(e){return e.currency}),j.wU).defaultCurrency;(0,s.useEffect)((function(){return function(){var e=C.getFieldsValue(!0);A((0,y.nc)({activeMenu:O,data:e}))}}),[]);(0,s.useEffect)((function(){O.refetch&&function(e){K(!0),q.x.getById(e).then((function(e){var l,a=e.data;H({label:a.payment.tag,value:a.payment.id}),C.setFieldsValue((0,r.Z)((0,r.Z)({},a.payload),{},{payment_id:a.payment.tag,paypal_validate_ssl:Boolean(a.payload.paypal_validate_ssl)})),Y([(l=a.payload.logo,{name:l,url:l})])})).finally((function(){K(!1),A((0,y.A_)(O))}))}(S)}),[O.refetch]);return(0,N.jsx)(d.Z,{title:F("edit.payment.payloads"),className:"h-100",children:D?(0,N.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,N.jsx)(m.Z,{size:"large",className:"py-5"})}):(0,N.jsxs)(u.Z,{name:"edit.payment.payloads",layout:"vertical",onFinish:function(e){var l,a;if(delete e.payment_id,"flutterWave"!==(null===G||void 0===G?void 0:G.label)||X[0]){W(!0);var n={payment_id:G.value,payload:(0,r.Z)((0,r.Z)({},e),{},{logo:X[0]?X[0].name:void 0,currency:null!==(l=e.currency)&&void 0!==l&&l.label?null===(a=e.currency)||void 0===a?void 0:a.label:e.currency,paypal_validate_ssl:null!==e&&void 0!==e&&e.paypal_validate_ssl?Number(e.paypal_validate_ssl):void 0})};q.x.update(S,n).then((function(){var e="payment-payloads";t.Am.success(F("successfully.updated")),(0,j.dC)((function(){A((0,y.ph)((0,r.Z)((0,r.Z)({},O),{},{nextUrl:e}))),A((0,w.j)({}))})),P("/".concat(e))})).finally((function(){return W(!1)}))}else t.Am.error(F("choose.payload.image"))},form:C,initialValues:(0,r.Z)({},O.data),className:"d-flex flex-column h-100",children:[(0,N.jsxs)(c.Z,{gutter:12,children:[(0,N.jsx)(o.Z,{span:"cash"===(null===G||void 0===G?void 0:G.label)||"wallet"===(null===G||void 0===G?void 0:G.label)?12:24,children:(0,N.jsx)(u.Z.Item,{label:F("payment"),name:"payment_id",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(p.Z,{notFoundContent:D?(0,N.jsx)(m.Z,{size:"small"}):"no results",allowClear:!0,disabled:!0})})}),"cash"===(null===G||void 0===G?void 0:G.label)||"wallet"===(null===G||void 0===G?void 0:G.label)?"":(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{span:24,className:"d-flex justify-content-center mt-4 mb-5",children:function(e){switch(e){case"Paypal":return(0,N.jsx)(b.kD0,{size:80});case"Stripe":return(0,N.jsx)(g.K6C,{size:80});case"Razorpay":return(0,N.jsx)(g.r98,{size:80});case"Paystack":return(0,N.jsx)("img",{src:f.Z,alt:"img",width:"80",height:"80"});case"flutterWave":return(0,N.jsx)(g.Bq1,{size:80});default:return null}}(null===G||void 0===G?void 0:G.label)}),"paystack"===(null===G||void 0===G?void 0:G.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paystack.pk"),name:"paystack_pk",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paystack.sk"),name:"paystack_sk",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})})," ",(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("currency"),name:"currency",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(_.q,{placeholder:F("select.currency"),valuePropName:"label",defaultValue:{value:ee.id,label:ee.title},fetchOptions:function(){return k.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"paypal"===(null===G||void 0===G?void 0:G.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.mode"),name:"paypal_mode",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(p.Z,{options:[{value:"live",label:F("live")},{value:"sandbox",label:F("sandbox")}]})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.sandbox.client.id"),name:"paypal_sandbox_client_id",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.sandbox.client.secret"),name:"paypal_sandbox_client_secret",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.sandbox.app.id"),name:"paypal_sandbox_app_id",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.live.client.id"),name:"paypal_live_client_id",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.live.client.secret"),name:"paypal_live_client_secret",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.live.app.id"),name:"paypal_live_app_id",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.payment.action"),name:"paypal_payment_action",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(p.Z,{options:[{value:"Sale",label:F("sale")},{value:"Order",label:F("order")},{value:"Authorization",label:F("authorization")}]})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.currency"),name:"paypal_currency",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(_.q,{placeholder:F("select.currency"),fetchOptions:function(){return k.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title," (").concat(e.symbol||"",")"),key:e.id}}))}))}})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.locale"),name:"paypal_locale",rules:[{required:!0,message:F("required")}],valuePropName:"value",children:(0,N.jsx)(p.Z,{placeholder:F("select.locale"),defaultValue:{label:null===(a=R.find((function(e){return e.locale===I.Z.language})))||void 0===a?void 0:a.title,value:I.Z.language},options:null===R||void 0===R?void 0:R.map((function(e){return{value:e.locale,label:e.title}}))})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("paypal.validate.ssl"),name:"paypal_validate_ssl",valuePropName:"checked",children:(0,N.jsx)(h.Z,{})})})]}):"stripe"===(null===G||void 0===G?void 0:G.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("stripe.pk"),name:"stripe_pk",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("stripe.sk"),name:"stripe_sk",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})})," ",(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("currency"),name:"currency",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(_.q,{placeholder:F("select.currency"),valuePropName:"label",defaultValue:{value:ee.id,label:ee.title},fetchOptions:function(){return k.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"razorpay"===(null===G||void 0===G?void 0:G.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("razorpay.key"),name:"razorpay_key",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("razorpay.secret"),name:"razorpay_secret",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})})," ",(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("currency"),name:"currency",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(_.q,{placeholder:F("select.currency"),valuePropName:"label",defaultValue:{value:ee.id,label:ee.title},fetchOptions:function(){return k.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"flutterWave"===(null===G||void 0===G?void 0:G.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("payload.title"),name:"title",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("payload.description"),name:"description",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("flw_pk"),name:"flw_pk",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("flw_sk"),name:"flw_sk",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})})," ",(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("key"),name:"key",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(x.Z,{})})}),(0,N.jsx)(o.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:F("currency"),name:"currency",rules:[{required:!0,message:F("required")}],children:(0,N.jsx)(_.q,{placeholder:F("select.currency"),valuePropName:"label",defaultValue:{value:ee.id,label:ee.title},fetchOptions:function(){return k.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})}),(0,N.jsx)(o.Z,{span:6,children:(0,N.jsx)(u.Z.Item,{rules:[{required:!0}],label:F("logo"),children:(0,N.jsx)(z.Z,{type:"brands",imageList:X,setImageList:Y,form:C,multiple:!1})})})]}):null]})]}),(0,N.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,N.jsx)("div",{className:"pb-5",children:(0,N.jsx)(Z.Z,{type:"primary",htmlType:"submit",loading:L,disabled:L,children:F("submit")})})})]})})}}}]);