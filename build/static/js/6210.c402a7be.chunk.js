(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6210],{97388:function(n,t,e){"use strict";e.d(t,{Z:function(){return j}});var i=e(15861),r=e(29439),o=e(87757),l=e.n(o),s=e(47313),c=e(16609),d=e(97421),a=e.p+"static/media/pin.0e41858db80c699cd8a2.png",u=e(31881),v=e.n(u);function f(n){return h.apply(this,arguments)}function h(){return h=(0,i.Z)(l().mark((function n(t){var e,i,r=arguments;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>1&&void 0!==r[1]?r[1]:d.kr,i={latlng:"".concat(null===t||void 0===t?void 0:t.lat,",").concat(null===t||void 0===t?void 0:t.lng),key:e},n.abrupt("return",v().get("https://maps.googleapis.com/maps/api/geocode/json",{params:i}).then((function(n){var t;return null===(t=n.data.results[0])||void 0===t?void 0:t.formatted_address})).catch((function(n){return"not found"})));case 3:case"end":return n.stop()}}),n)}))),h.apply(this,arguments)}var p=e(5958),x=e(23560),m=e(24511),g=e(46417);var j=(0,c.GoogleApiWrapper)({apiKey:d.kr})((function(n){var t=(0,s.useState)(),e=(0,r.Z)(t,2),o=e[0],u=e[1],v=(0,m.$)().t,h=function(){var t=(0,i.Z)(l().mark((function t(e,i,r){var o,s,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.latLng,s={lat:o.lat(),lng:o.lng()},n.setLocation(s),t.next=5,f(s,d.kr);case 5:c=t.sent,n.setAddress(c);case 7:case"end":return t.stop()}}),t)})));return function(n,e,i){return t.apply(this,arguments)}}(),j=function(){var t=(0,i.Z)(l().mark((function t(e){var i,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={lat:null===e||void 0===e?void 0:e.lat,lng:null===e||void 0===e?void 0:e.lng},n.setLocation(i),t.next=4,f(i,d.kr);case 4:r=t.sent,n.setAddress(r);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),Z=function(){var n=(0,i.Z)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.geolocation.getCurrentPosition((function(n){var t={lat:n.coords.latitude,lng:n.coords.longitude};u(t)}),(function(n){x.Am.warning(v("turn.on.gps"))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,s.useEffect)((function(){Z()}),[]);for(var y=[{lat:Number(n.location.lat)||0,lng:Number(n.location.lng)||0}],b=new n.google.maps.LatLngBounds,k=0;k<y.length;k++)b.extend(y[k]);return(0,g.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,g.jsx)("button",{className:"map-button",type:"button",onClick:function(){Z(),o&&j(o)},children:(0,g.jsx)(p.nDs,{})}),(0,g.jsx)(c.Map,{cursor:"pointer",onClick:h,google:n.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:n.location,center:n.location,children:(0,g.jsx)(c.Marker,{position:n.location,icon:{url:a,scaledSize:new n.google.maps.Size(32,32)},className:"marker"})})]})}))},51988:function(n,t,e){"use strict";e.d(t,{Z:function(){return d}});e(47313);var i=e(24511),r=e(66188),o=e.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",l=e.p+"static/media/noresult.ac4af107751f94856a9c.riv",s=e.p+"static/media/nosell.32cb2c2cc548a15c820d.riv",c=e(46417);var d=function(n){var t=n.id,e=void 0===t?"noresult":t,d=n.text,a=void 0===d?"":d,u=(0,i.$)().t,v={src:{noproductsfound:o,noresult:l,nosell:s}[e],artboard:"New Artboard",autoplay:!0},f=(0,r.useRive)(v).RiveComponent;return(0,c.jsxs)("div",{className:"animation-canvas",children:[(0,c.jsx)("div",{style:{width:"100%",height:200},children:(0,c.jsx)(f,{})}),(0,c.jsx)("div",{className:"text",children:u(a)})]})}},41481:function(n,t,e){"use strict";e.d(t,{Z:function(){return v}});var i=e(1413),r=e(29439),o=e(45987),l=e(47313),s=e(66672),c=e(16031),d=e(40765),a=e(46417),u=["handleChange","defaultValue","resetSearch"];function v(n){var t=n.handleChange,e=n.defaultValue,v=n.resetSearch,f=(0,o.Z)(n,u),h=(0,l.useState)(e),p=(0,r.Z)(h,2),x=p[0],m=p[1],g=(0,l.useMemo)((function(){return(0,c.debounce)((function(n){t(n)}),800)}),[t]);return(0,l.useEffect)((function(){m(e)}),[v,e]),(0,a.jsx)(s.Z,(0,i.Z)({value:x,onChange:function(n){m(n.target.value),g(n.target.value)},prefix:(0,a.jsx)(d.Z,{})},f))}},17649:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});e(97421);function i(n){if(null===n||void 0===n||!n.location)return{lat:47.4143302506288,lng:8.532059477976883};var t=n.location.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}},77370:function(n,t,e){"use strict";function i(n,t){for(var e=[],i=[],r="",o=0;o<(null===(l=n.stocks)||void 0===l?void 0:l.length);o++){var l,s;r="";for(var c=0;c<(null===(d=n.stocks[o].extras)||void 0===d?void 0:d.length);c++){var d,a=Object.assign({},n.stocks[o].extras[c]),u=e.findIndex((function(n){return n.id==a.id}));-1==u?(a.level=c,a.up=[r],e.push(a),r+=a.id.toString()):(e[u].up.push(r),r+=a.id.toString())}for(var v={id:n.stocks[o].id,extras:r,price:n.stocks[o].price,quantity:n.stocks[o].quantity,countable_id:n.stocks[o].countable_id,discount:n.stocks[o].discount,tax:n.stocks[o].tax,total_price:n.stocks[o].total_price,bonus:n.stocks[o].bonus,addons:(null===(s=n.stock)||void 0===s?void 0:s.addons)||n.stocks[o].addons},f=0;f<(null===(h=v.addons)||void 0===h?void 0:h.length);f++)for(var h,p=0;p<(null===t||void 0===t?void 0:t.length);p++){var x,m,g;v.addons[f].addon_id===((null===(x=t[p].stock)||void 0===x||null===(m=x.product)||void 0===m?void 0:m.id)||(null===(g=t[p].product)||void 0===g?void 0:g.id))&&(v.addons[f].product.quantity=t[p].quantity)}i.push(v)}return{stock:i,extras:e}}function r(n,t,e){for(var i=""==n?[]:n.split(","),r=[],o=[],l=0;l<=i.length;l++){l-1>=0&&(o[o.length]=i[l-1].toString()),(s=t.filter((function(n){if(new Set(n.up).has(o.join("")))return n}))).length>0&&r.push(s)}l=0;if(o.length<r.length)for(;l<t.length;){var s;if(o[o.length]=r[r.length-1][0].id.toString(),0==(s=t.filter((function(n){if(new Set(n.up).has(o.join("")))return n}))).length)break;r.push(s),l++}var c=e.findIndex((function(n){return n.extras==o.join("")}));return{stock:e[c],extras:r}}e.d(t,{o:function(){return i},y:function(){return r}})},28939:function(n,t,e){"use strict";function i(n){var t,e=null===n||void 0===n||null===(t=n.extras)||void 0===t?void 0:t.find((function(n){return"image"===n.group.type}));return e?e.value:""}e.d(t,{Z:function(){return i}})},84017:function(n,t,e){"use strict";function i(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";if(!n)return"0";var e=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return t+" "+e}e.d(t,{Z:function(){return i}})},91220:function(n,t,e){"use strict";function i(n,t){var e,i=(null===t||void 0===t||null===(e=t.translation)||void 0===e?void 0:e.title)||"pcs";if(!n)return 0;switch(null===t||void 0===t?void 0:t.position){case"after":return n+" "+i;case"before":return i+" "+n}}e.d(t,{Z:function(){return i}})},21448:function(n,t,e){"use strict";var i=e(34344),r={checkCoupon:function(n){return i.Z.post("rest/coupons/check",n)},checkCashback:function(n){return i.Z.post("rest/cashback/check",n)}};t.Z=r},16233:function(n,t,e){"use strict";e.d(t,{Z:function(){return y}});var i=e(1413),r=e(29439),o=e(47313),l=e(9274),s=e(59491),c=e(72652),d=e(77181),a=e(78508),u=e(45705),v=e(66204),f=e(7370),h=e(2337),p=e(31774),x=e(70816),m=e.n(x),g=e(84017),j=e(24511),Z=e(46417),y=function(n){var t,e,x,y,b,k,w,N,_,C,S,z,H=n.orderId,I=n.handleClose,V=(0,j.$)().t,M=(0,o.useState)(!1),q=(0,r.Z)(M,2),E=q[0],A=q[1],B=(0,o.useState)(null),L=(0,r.Z)(B,2),O=L[0],R=L[1],$=(0,o.useState)([]),Y=(0,r.Z)($,2),D=Y[0],P=Y[1];return(0,o.useEffect)((function(){H&&(A(!0),f.Z.getById(H).then((function(n){R(n.data);var t=n.data.details.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{product:n.stock.product})})).flat();P(t)})).finally((function(){return A(!1)})))}),[H]),(0,Z.jsx)(l.Z,{visible:!!H,title:V("order.created.successfully"),onOk:I,onCancel:I,className:"container",footer:[(0,Z.jsx)(s.Z,{onClick:I,className:"buttons",children:V("back")}),(0,Z.jsxs)(s.Z,{type:"primary",onClick:function(){return window.print()},className:"buttons",children:[(0,Z.jsx)(p.Z,{type:"printer"}),(0,Z.jsx)("span",{className:"ml-1",children:V("print")})]})],style:{minWidth:"80vw"},children:(0,Z.jsx)("div",{className:"py-4 order-preview",children:E?(0,Z.jsx)("div",{className:"w-100 text-center",children:(0,Z.jsx)(c.Z,{})}):(0,Z.jsxs)(d.Z,{children:[(0,Z.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("h2",{className:"mb-1 font-weight-semibold",children:[V("invoice")," #",null===O||void 0===O?void 0:O.id]}),(0,Z.jsx)("p",{children:m()(null===O||void 0===O?void 0:O.created_at).format("DD/M/YYYY")}),(0,Z.jsx)("address",{children:(0,Z.jsxs)("p",{children:[(0,Z.jsxs)("span",{children:[V("delivery.type"),": ",null===O||void 0===O?void 0:O.delivery_type]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[V("delivery.address"),": ",null===O||void 0===O||null===(t=O.address)||void 0===t?void 0:t.address]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[V("delivery.date"),": ",null===O||void 0===O?void 0:O.delivery_date," ",null===O||void 0===O?void 0:O.delivery_time]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[V("note"),": ",null===O||void 0===O?void 0:O.note]})]})})]}),(0,Z.jsx)("address",{children:(0,Z.jsxs)("p",{children:[(0,Z.jsxs)("span",{className:"font-weight-semibold text-dark font-size-md",children:[null===O||void 0===O||null===(e=O.user)||void 0===e?void 0:e.firstname," ",null===O||void 0===O||null===(x=O.user)||void 0===x?void 0:x.lastname]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[V("phone"),": ",null===O||void 0===O?void 0:O.phone]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[V("email"),": ",null===O||void 0===O||null===(y=O.user)||void 0===y?void 0:y.email]})]})})]}),(0,Z.jsxs)("div",{className:"mt-4",children:[(0,Z.jsxs)(a.Z,{scroll:{x:!0},dataSource:D,rowKey:function(n){return n.id},pagination:!1,className:"mb-5",children:[(0,Z.jsx)(h.Z,{title:"No.",dataIndex:"id"},"id"),(0,Z.jsx)(h.Z,{title:V("product"),dataIndex:"product",render:function(n,t){var e,i;return(0,Z.jsxs)(u.Z,{wrap:!0,children:[(0,Z.jsx)("span",{children:null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title}),null===(i=t.addons)||void 0===i?void 0:i.map((function(n){var t,e,i;return(0,Z.jsxs)(v.Z,{children:[null===(t=n.stock)||void 0===t||null===(e=t.product)||void 0===e||null===(i=e.translation)||void 0===i?void 0:i.title," x"," ",n.quantity]},n.id)}))]})}},"product"),(0,Z.jsx)(h.Z,{title:V("quantity"),dataIndex:"quantity",render:function(n,t){var e,i,r,o,l,s;return(0,Z.jsxs)("span",{children:[t.quantity*((null===t||void 0===t||null===(e=t.stock)||void 0===e||null===(i=e.product)||void 0===i?void 0:i.interval)||1),null===t||void 0===t||null===(r=t.stock)||void 0===r||null===(o=r.product)||void 0===o||null===(l=o.unit)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title]})}},"quantity"),(0,Z.jsx)(h.Z,{title:V("discount"),dataIndex:"discount",render:function(n){var t;return(0,g.Z)(n,null===O||void 0===O||null===(t=O.currency)||void 0===t?void 0:t.symbol)}},"discount"),(0,Z.jsx)(h.Z,{title:V("origin_price"),dataIndex:"origin_price",render:function(n){var t;return(0,g.Z)(n,null===O||void 0===O||null===(t=O.currency)||void 0===t?void 0:t.symbol)}},"origin_price"),(0,Z.jsx)(h.Z,{title:V("tax"),dataIndex:"tax",render:function(n){var t;return(0,g.Z)(n,null===O||void 0===O||null===(t=O.currency)||void 0===t?void 0:t.symbol)}},"tax"),(0,Z.jsx)(h.Z,{title:V("price"),dataIndex:"total_price",render:function(n){var t;return(0,g.Z)(n,null===O||void 0===O||null===(t=O.currency)||void 0===t?void 0:t.symbol)}},"total_price")]}),(0,Z.jsx)("div",{className:"d-flex justify-content-end",children:(0,Z.jsxs)("div",{className:"text-right ",children:[(0,Z.jsxs)("div",{className:"border-bottom",children:[(0,Z.jsxs)("p",{className:"mb-2",children:[(0,Z.jsxs)("span",{children:[V("sub-total.amount"),": "]}),(0,g.Z)(null===O||void 0===O?void 0:O.details.reduce((function(n,t){return n+t.origin_price}),0),null===O||void 0===O||null===(b=O.currency)||void 0===b?void 0:b.symbol)]}),(0,Z.jsxs)("p",{children:[V("delivery.price")," :"," ",(0,g.Z)(null===O||void 0===O?void 0:O.delivery_fee,null===O||void 0===O||null===(k=O.currency)||void 0===k?void 0:k.symbol)]}),(0,Z.jsxs)("p",{children:[V("shop.tax")," :"," ",(0,g.Z)(null===O||void 0===O?void 0:O.tax,null===O||void 0===O||null===(w=O.currency)||void 0===w?void 0:w.symbol)]}),(0,Z.jsxs)("p",{children:[V("product.tax")," :"," ",(0,g.Z)(null===O||void 0===O||null===(N=O.details)||void 0===N?void 0:N.reduce((function(n,t){return n+t.tax}),0),null===O||void 0===O||null===(_=O.currency)||void 0===_?void 0:_.symbol)]}),(0,Z.jsxs)("p",{children:[V("service.fee")," :"," ",(0,g.Z)(null===O||void 0===O?void 0:O.service_fee,null===O||void 0===O||null===(C=O.currency)||void 0===C?void 0:C.symbol)]})]}),(0,Z.jsxs)("h2",{className:"font-weight-semibold mt-3",children:[(0,Z.jsxs)("span",{className:"mr-1",children:[V("grand.total"),":"," ",(0,Z.jsx)("div",{className:"ml-2 font-weight-bold",children:(0,g.Z)(null===O||void 0===O?void 0:O.total_price,null===O||void 0===O||null===(S=O.currency)||void 0===S?void 0:S.symbol)})]}),null!==O&&void 0!==O&&O.total_discount?(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("h3",{children:[V("total.discount"),":"]})," ",(0,Z.jsx)("span",{className:"strike",children:(0,g.Z)(null===O||void 0===O?void 0:O.total_discount,null===O||void 0===O||null===(z=O.currency)||void 0===z?void 0:z.symbol)})]}):null]})]})})]})]})})})}},8846:function(n,t,e){"use strict";e.d(t,{Z:function(){return c}});var i=e(1413),r=e(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},l=e(17469),s=function(n,t){return r.createElement(l.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:t,icon:o}))};s.displayName="MinusOutlined";var c=r.forwardRef(s)},55768:function(n,t,e){"use strict";e.d(t,{Z:function(){return c}});var i=e(1413),r=e(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=e(17469),s=function(n,t){return r.createElement(l.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:t,icon:o}))};s.displayName="PlusCircleOutlined";var c=r.forwardRef(s)},31774:function(n,t,e){"use strict";e.d(t,{Z:function(){return c}});var i=e(1413),r=e(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zm32-104H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180zm304 664H360V568h304v276zm200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z"}}]},name:"printer",theme:"outlined"},l=e(17469),s=function(n,t){return r.createElement(l.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:t,icon:o}))};s.displayName="PrinterOutlined";var c=r.forwardRef(s)},2337:function(n,t){"use strict";t.Z=void 0;var e=function(n){return null};t.Z=e},24654:function(){}}]);