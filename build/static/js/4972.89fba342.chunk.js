"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4972],{73431:function(n,t,e){var a=e(47313),r=e(39180),o=e(2717),i=e(28830),l=e(60535),u=e(46417);t.Z=function(){var n=(0,o.I0)(),t=(0,o.v9)((function(n){return n.formLang}),o.wU),e=t.languages,c=t.defaultLang;(0,a.useEffect)((function(){l.Z.getAllActive().then((function(t){var e=t.data;n((0,i.dc)(e)),n((0,i.mh)(e.find((function(n){return 1===n.default})).locale))}))}),[]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.ZP.Group,{value:c,onChange:function(t){var e=t.target.value;n((0,i.mh)(e))},className:"float-right",buttonStyle:"solid",children:null===e||void 0===e?void 0:e.map((function(n){return(0,u.jsx)(r.ZP.Button,{value:n.locale,children:n.title},n.id)}))})})}},97388:function(n,t,e){e.d(t,{Z:function(){return x}});var a=e(15861),r=e(29439),o=e(87757),i=e.n(o),l=e(47313),u=e(16609),c=e(97421),s=e.p+"static/media/pin.0e41858db80c699cd8a2.png",d=e(31881),f=e.n(d);function v(n){return g.apply(this,arguments)}function g(){return g=(0,a.Z)(i().mark((function n(t){var e,a,r=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>1&&void 0!==r[1]?r[1]:c.kr,a={latlng:"".concat(null===t||void 0===t?void 0:t.lat,",").concat(null===t||void 0===t?void 0:t.lng),key:e},n.abrupt("return",f().get("https://maps.googleapis.com/maps/api/geocode/json",{params:a}).then((function(n){var t;return null===(t=n.data.results[0])||void 0===t?void 0:t.formatted_address})).catch((function(n){return"not found"})));case 3:case"end":return n.stop()}}),n)}))),g.apply(this,arguments)}var m=e(5958),p=e(23560),h=e(24511),Z=e(46417);var x=(0,u.GoogleApiWrapper)({apiKey:c.kr})((function(n){var t=(0,l.useState)(),e=(0,r.Z)(t,2),o=e[0],d=e[1],f=(0,h.$)().t,g=function(){var t=(0,a.Z)(i().mark((function t(e,a,r){var o,l,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.latLng,l={lat:o.lat(),lng:o.lng()},n.setLocation(l),t.next=5,v(l,c.kr);case 5:u=t.sent,n.setAddress(u);case 7:case"end":return t.stop()}}),t)})));return function(n,e,a){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)(i().mark((function t(e){var a,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={lat:null===e||void 0===e?void 0:e.lat,lng:null===e||void 0===e?void 0:e.lng},n.setLocation(a),t.next=4,v(a,c.kr);case 4:r=t.sent,n.setAddress(r);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),b=function(){var n=(0,a.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.geolocation.getCurrentPosition((function(n){var t={lat:n.coords.latitude,lng:n.coords.longitude};d(t)}),(function(n){p.Am.warning(f("turn.on.gps"))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){b()}),[]);for(var j=[{lat:Number(n.location.lat)||0,lng:Number(n.location.lng)||0}],y=new n.google.maps.LatLngBounds,w=0;w<j.length;w++)y.extend(j[w]);return(0,Z.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,Z.jsx)("button",{className:"map-button",type:"button",onClick:function(){b(),o&&x(o)},children:(0,Z.jsx)(m.nDs,{})}),(0,Z.jsx)(u.Map,{cursor:"pointer",onClick:g,google:n.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:n.location,center:n.location,children:(0,Z.jsx)(u.Marker,{position:n.location,icon:{url:s,scaledSize:new n.google.maps.Size(32,32)},className:"marker"})})]})}))},17649:function(n,t,e){e.d(t,{Z:function(){return a}});e(97421);function a(n){if(null===n||void 0===n||!n.location)return{lat:47.4143302506288,lng:8.532059477976883};var t=n.location.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}},75336:function(n,t,e){e.d(t,{Z:function(){return o}});var a=e(93433),r=e(4942);function o(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",o=n.map((function(n){return(0,r.Z)({},n.locale,""===t["".concat(e,"[").concat(n.locale,"]")]?void 0:t["".concat(e,"[").concat(n.locale,"]")])}));return Object.assign.apply(Object,[{}].concat((0,a.Z)(o)))}},77020:function(n,t,e){e.r(t);var a=e(1413),r=e(29439),o=e(47313),i=e(97890),l=e(23560),u=e(10976),c=e(77181),s=e(2717),d=e(90954),f=e(24511),v=e(75336),g=e(73431),m=e(16611),p=e(44337),h=e(88551),Z=e(46417);t.default=function(){var n=(0,f.$)().t,t=(0,s.v9)((function(n){return n.menu}),s.wU).activeMenu,e=(0,s.I0)(),x=u.Z.useForm(),b=(0,r.Z)(x,1)[0],j=(0,i.s0)(),y=(0,s.v9)((function(n){return n.formLang}),s.wU).languages;(0,o.useEffect)((function(){return function(){var n=b.getFieldsValue(!0);n.open_time=JSON.stringify(null===n||void 0===n?void 0:n.open_time),n.close_time=JSON.stringify(null===n||void 0===n?void 0:n.close_time),e((0,d.nc)({activeMenu:t,data:n}))}}),[]);return(0,Z.jsx)(c.Z,{title:n("add.branch"),className:"h-100",extra:(0,Z.jsx)(g.Z,{}),children:(0,Z.jsx)(h.Z,{form:b,handleSubmit:function(r){var o={title:(0,v.Z)(y,r,"title"),address:{address:r.address,office:null,house:null,floor:null},location:{longitude:r.location.lng,latitude:r.location.lat}},i="seller/branch";return p.Z.create(o).then((function(){l.Am.success(n("successfully.created")),(0,s.dC)((function(){e((0,d.ph)((0,a.Z)((0,a.Z)({},t),{},{nextUrl:i}))),e((0,m._)({}))})),j("/".concat(i))}))}})})}},88551:function(n,t,e){e.d(t,{Z:function(){return x}});var a=e(1413),r=e(29439),o=e(4942),i=e(47313),l=e(10976),u=e(68197),c=e(59624),s=e(66672),d=e(59491),f=e(97388),v=e(24511),g=e(2717),m=e(17649),p=e(47168),h=e(97421),Z=e(46417);function x(n){var t,e,x=n.form,b=n.handleSubmit,j=(0,v.$)().t,y=(0,g.v9)((function(n){return n.menu}),g.wU).activeMenu,w=(0,g.v9)((function(n){return n.formLang}),g.wU),k=w.languages,N=w.defaultLang,S=(0,g.v9)((function(n){return n.globalSettings}),g.wU).settings,L=(0,g.v9)((function(n){return n.globalSettings.settings}),g.wU).google_map_key,_=(0,p.usePlacesWidget)({apiKey:L||h.kr,onPlaceSelected:function(n){var t={lat:null===n||void 0===n?void 0:n.geometry.location.lat(),lng:null===n||void 0===n?void 0:n.geometry.location.lng()};O(t),x.setFieldsValue((0,o.Z)({},"address[".concat(N,"]"),null===n||void 0===n?void 0:n.formatted_address))}}),C=_.ref,A=(0,i.useState)(!1),U=(0,r.Z)(A,2),F=U[0],M=U[1],P=(0,i.useState)(null!==(t=null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.mapCoordinates)&&void 0!==t?t:(0,m.Z)(S)),q=(0,r.Z)(P,2),I=q[0],O=q[1];return(0,Z.jsxs)(l.Z,{name:"branch-form",layout:"vertical",onFinish:function(n){M(!0);var t=(0,a.Z)((0,a.Z)({},n),{},{location:I});b(t).finally((function(){return M(!1)}))},form:x,initialValues:(0,a.Z)({},y.data),className:"d-flex flex-column h-100",children:[(0,Z.jsxs)(u.Z,{gutter:12,children:[(0,Z.jsx)(c.Z,{span:12,children:k.map((function(n,t){return(0,Z.jsx)(l.Z.Item,{label:j("title"),name:"title[".concat(n.locale,"]"),rules:[{required:n.locale===N,message:j("required")}],hidden:n.locale!==N,children:(0,Z.jsx)(s.Z,{})},"title"+t)}))}),(0,Z.jsx)(c.Z,{span:12,children:(0,Z.jsx)(l.Z.Item,{label:j("address"),name:"address",rules:[{required:!0,message:j("required")}],children:(0,Z.jsx)("input",{className:"address-input",ref:C,placeholder:""})})}),(0,Z.jsx)(c.Z,{span:24,children:(0,Z.jsx)(f.Z,{location:I,setLocation:O,setAddress:function(n){return x.setFieldsValue({address:n})}})})]}),(0,Z.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,Z.jsx)("div",{className:"pb-5",children:(0,Z.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:F,children:j("submit")})})})]})}}}]);