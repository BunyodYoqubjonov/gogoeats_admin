"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8351],{89802:function(e,t,n){n.d(t,{q:function(){return d}});var a=n(1413),r=n(29439),o=n(45987),i=n(47313),l=n(74294),u=n(72652),s=n(46417),c=["fetchOptions","refetch"],d=function(e){var t=e.fetchOptions,n=e.refetch,d=void 0!==n&&n,p=(0,o.Z)(e,c),f=(0,i.useState)(!1),v=(0,r.Z)(f,2),h=v[0],m=v[1],y=(0,i.useState)([]),Z=(0,r.Z)(y,2),b=Z[0],g=Z[1];return(0,s.jsx)(l.Z,(0,a.Z)((0,a.Z)({labelInValue:!0,filterOption:!1,notFoundContent:h?(0,s.jsx)(u.Z,{size:"small"}):"no results"},p),{},{options:h?[]:b,onFocus:function(){b.length&&!d||(m(!0),t().then((function(e){g(e),m(!1)})))}}))}},73431:function(e,t,n){var a=n(47313),r=n(39180),o=n(2717),i=n(28830),l=n(60535),u=n(46417);t.Z=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.formLang}),o.wU),n=t.languages,s=t.defaultLang;(0,a.useEffect)((function(){l.Z.getAllActive().then((function(t){var n=t.data;e((0,i.dc)(n)),e((0,i.mh)(n.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.ZP.Group,{value:s,onChange:function(t){var n=t.target.value;e((0,i.mh)(n))},className:"float-right",buttonStyle:"solid",children:null===n||void 0===n?void 0:n.map((function(e){return(0,u.jsx)(r.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},89281:function(e,t,n){n.d(t,{h:function(){return f}});var a=n(1413),r=n(29439),o=n(45987),i=n(47313),l=n(12279),u=n.n(l),s=n(74294),c=n(72652),d=n(46417),p=["fetchOptions","debounceTimeout","onClear"],f=function(e){var t=e.fetchOptions,n=e.debounceTimeout,l=void 0===n?400:n,f=e.onClear,v=(0,o.Z)(e,p),h=(0,i.useState)(!1),m=(0,r.Z)(h,2),y=m[0],Z=m[1],b=(0,i.useState)([]),g=(0,r.Z)(b,2),x=g[0],C=g[1],k=(0,i.useMemo)((function(){return u()((function(e){C([]),Z(!0),t(e).then((function(e){C(e),Z(!1)}))}),l)}),[t,l]);return(0,d.jsx)(s.Z,(0,a.Z)((0,a.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:k,onClear:function(){k(""),f&&f()},notFoundContent:y?(0,d.jsx)(c.Z,{size:"small"}):"no results"},v),{},{options:x,onFocus:function(){k("")}}))}},78351:function(e,t,n){n.r(t);var a=n(15861),r=n(1413),o=n(29439),i=n(87757),l=n.n(i),u=n(47313),s=n(10976),c=n(77181),d=n(68197),p=n(16124),f=n(59624),v=n(66672),h=n(74294),m=n(59491),y=n(72652),Z=n(23560),b=n(97890),g=n(73431),x=n(52421),C=n(2717),k=n(90954),j=n(47647),w=n(97421),O=n(24511),E=n(5764),I=(n(89802),n(81218)),P=n(71810),S=n(89281),F=n(46417);t.default=function(){var e,t,n=(0,O.$)().t,i=(0,b.s0)(),_=(0,C.I0)(),q=(0,C.v9)((function(e){return e.menu}),C.wU),N=q.activeMenu,M=(0,C.v9)((function(e){return e.requestModels}),C.wU),U=M.params,K=(0,u.useState)(!1),L=(0,o.Z)(K,2),B=L[0],D=L[1],T=(0,u.useState)(null!==(e=N.data)&&void 0!==e&&e.image?[null===(t=N.data)||void 0===t?void 0:t.image]:[]),V=(0,o.Z)(T,2),R=V[0],z=V[1],A=s.Z.useForm(),G=(0,o.Z)(A,1)[0],H=(0,u.useState)(!1),Q=(0,o.Z)(H,2),$=Q[0],J=Q[1],W=(0,u.useState)(null),X=(0,o.Z)(W,2),Y=X[0],ee=X[1],te=(0,b.TH)().state,ne=(0,C.v9)((function(e){return e.auth}),C.wU),ae=ne.user,re=(0,b.UO)().id,oe=(0,C.v9)((function(e){return e.formLang}),C.wU),ie=oe.defaultLang,le=oe.languages;(0,u.useEffect)((function(){return function(){var e=G.getFieldsValue(!0);_((0,k.nc)({activeMenu:N,data:e}))}}),[]);function ue(){return ue=(0,a.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={perPage:100,type:null!==te&&void 0!==te&&te.parentId?"main":"sub_shop",active:1,search:t},e.abrupt("return",j.Z.selectPaginate(n).then((function(e){return e.data.map((function(e){var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}return(0,u.useEffect)((function(){var e;N.refetch&&(e=re,D(!0),I.Z.getById(e).then((function(e){var t,n,a,o,i,l=e.data,u=(0,r.Z)((0,r.Z)({},null===l||void 0===l?void 0:l.data),{},{keywords:null===(t=l.data)||void 0===t?void 0:t.keywords.split(","),parent_id:{label:null===(n=l.parent)||void 0===n||null===(a=n.translation)||void 0===a?void 0:a.title,value:l.data.parent_id,key:l.data.parent_id}});G.setFieldsValue(u),z([(i=null===(o=l.data.images)||void 0===o?void 0:o.at(0),{name:i,url:w.bV+i})])})).finally((function(){D(!1),_((0,k.A_)(N))})))}),[N.refetch]),(0,F.jsx)(c.Z,{title:n("edit.request"),extra:(0,F.jsx)(g.Z,{}),children:B?(0,F.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,F.jsx)(y.Z,{size:"large",className:"mt-5 pt-5"})}):(0,F.jsxs)(s.Z,{name:"basic",layout:"vertical",onFinish:function(e){var t;J(!0);var a={id:e.id,type:"category",data:(0,r.Z)((0,r.Z)({},e),{},{type:null!==te&&void 0!==te&&te.parentId?"sub_main":"main",active:e.active?1:0,keywords:e.keywords.join(","),parent_id:null===(t=e.parent_id)||void 0===t?void 0:t.value,images:null===R||void 0===R?void 0:R.map((function(e){return e.name}))})},o=(0,r.Z)((0,r.Z)({},U),{},{shop_id:null===ae||void 0===ae?void 0:ae.shop_id}),l=null!==te&&void 0!==te&&te.parentId?"seller/category/".concat(te.parentUuid):"seller/categories";I.Z.requestChangeUpdate(re,a).then((function(){Z.Am.success(n("successfully.updated")),_((0,k.ph)((0,r.Z)((0,r.Z)({},N),{},{nextUrl:l}))),_((0,P._7)(o)),i("/".concat(l),{state:{tab:"request"}})})).catch((function(e){return ee(e.response.data.params)})).finally((function(){return J(!1)}))},initialValues:(0,r.Z)({active:!0},N.data),form:G,children:[(0,F.jsxs)(d.Z,{gutter:12,children:[(0,F.jsx)(s.Z.Item,{name:"id",hidden:!0,children:(0,F.jsx)(p.Z,{})}),(0,F.jsx)(f.Z,{span:12,children:le.map((function(e,t){return(0,F.jsx)(s.Z.Item,{label:n("name"),name:["title",e.locale],help:Y&&Y.title[ie]?Y.title[ie][0]:null,validateStatus:Y?"error":"success",rules:[{required:e.locale===ie,message:n("required")}],hidden:e.locale!==ie,children:(0,F.jsx)(v.Z,{})},e.title+t)}))}),(0,F.jsx)(f.Z,{span:12,children:le.map((function(e,t){return(0,F.jsx)(s.Z.Item,{label:n("description"),name:["description",e.locale],rules:[{required:e.locale===ie,message:n("required")}],hidden:e.locale!==ie,children:(0,F.jsx)(x.Z,{rows:4})},e.locale+t)}))}),(0,F.jsx)(f.Z,{span:12,children:(0,F.jsx)(s.Z.Item,{label:n("keywords"),name:"keywords",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(h.Z,{mode:"tags",style:{width:"100%"}})})}),(0,F.jsx)(f.Z,{span:12,children:(0,F.jsx)(s.Z.Item,{label:n("parent.category"),name:"parent_id",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(S.h,{fetchOptions:function(e){return ue.apply(this,arguments)}})})}),(0,F.jsx)(f.Z,{span:4,children:(0,F.jsx)(s.Z.Item,{label:n("image"),children:(0,F.jsx)(E.Z,{type:"categories",imageList:R,setImageList:z,form:G,multiple:!1})})})]}),(0,F.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:$,children:n("submit")})]})})}},39180:function(e,t,n){n.d(t,{ZP:function(){return F}});var a=n(4942),r=n(87462),o=n(47313),i=n(56482),l=n(46123),u=n.n(l),s=n(16945),c=n(4431),d=n(91964),p=o.createContext(null),f=p.Provider,v=p,h=o.createContext(null),m=h.Provider,y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Z=function(e,t){var n,l=o.useContext(v),p=o.useContext(h),f=o.useContext(d.E_),m=f.getPrefixCls,Z=f.direction,b=o.useRef(),g=(0,s.sQ)(t,b),x=(0,o.useContext)(c.aM).isFormItemInput,C=e.prefixCls,k=e.className,j=e.children,w=e.style,O=y(e,["prefixCls","className","children","style"]),E=m("radio",C),I="button"===((null===l||void 0===l?void 0:l.optionType)||p)?"".concat(E,"-button"):E,P=(0,r.Z)({},O);l&&(P.name=l.name,P.onChange=function(t){var n,a;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(a=null===l||void 0===l?void 0:l.onChange)||void 0===a||a.call(l,t)},P.checked=e.value===l.value,P.disabled=e.disabled||l.disabled);var S=u()("".concat(I,"-wrapper"),(n={},(0,a.Z)(n,"".concat(I,"-wrapper-checked"),P.checked),(0,a.Z)(n,"".concat(I,"-wrapper-disabled"),P.disabled),(0,a.Z)(n,"".concat(I,"-wrapper-rtl"),"rtl"===Z),(0,a.Z)(n,"".concat(I,"-wrapper-in-form-item"),x),n),k);return o.createElement("label",{className:S,style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(i.Z,(0,r.Z)({},P,{type:"radio",prefixCls:I,ref:g})),void 0!==j?o.createElement("span",null,j):null)},b=o.forwardRef(Z);b.displayName="Radio";var g=b,x=n(29439),C=n(10288),k=n(21631),j=n(81176),w=o.forwardRef((function(e,t){var n=o.useContext(d.E_),i=n.getPrefixCls,l=n.direction,s=o.useContext(k.Z),c=(0,C.Z)(e.defaultValue,{value:e.value}),p=(0,x.Z)(c,2),v=p[0],h=p[1];return o.createElement(f,{value:{onChange:function(t){var n=v,a=t.target.value;"value"in e||h(a);var r=e.onChange;r&&a!==n&&r(t)},value:v,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var n,c=e.prefixCls,d=e.className,p=void 0===d?"":d,f=e.options,h=e.buttonStyle,m=void 0===h?"outline":h,y=e.disabled,Z=e.children,b=e.size,x=e.style,C=e.id,k=e.onMouseEnter,w=e.onMouseLeave,O=i("radio",c),E="".concat(O,"-group"),I=Z;f&&f.length>0&&(I=f.map((function(e){return"string"===typeof e||"number"===typeof e?o.createElement(g,{key:e.toString(),prefixCls:O,disabled:y,value:e,checked:v===e},e):o.createElement(g,{key:"radio-group-value-options-".concat(e.value),prefixCls:O,disabled:e.disabled||y,value:e.value,checked:v===e.value,style:e.style},e.label)})));var P=b||s,S=u()(E,"".concat(E,"-").concat(m),(n={},(0,a.Z)(n,"".concat(E,"-").concat(P),P),(0,a.Z)(n,"".concat(E,"-rtl"),"rtl"===l),n),p);return o.createElement("div",(0,r.Z)({},(0,j.Z)(e),{className:S,style:x,onMouseEnter:k,onMouseLeave:w,id:C,ref:t}),I)}())})),O=o.memo(w),E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},I=function(e,t){var n=o.useContext(d.E_).getPrefixCls,a=e.prefixCls,i=E(e,["prefixCls"]),l=n("radio",a);return o.createElement(m,{value:"button"},o.createElement(g,(0,r.Z)({prefixCls:l},i,{type:"radio",ref:t})))},P=o.forwardRef(I),S=g;S.Button=P,S.Group=O;var F=S},56482:function(e,t,n){var a=n(87462),r=n(4942),o=n(45987),i=n(1413),l=n(15671),u=n(43144),s=n(60136),c=n(29388),d=n(47313),p=n(46123),f=n.n(p),v=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;(0,l.Z)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,r=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:(0,i.Z)((0,i.Z)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return(0,u.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,l=t.style,u=t.name,s=t.id,c=t.type,p=t.disabled,v=t.readOnly,h=t.tabIndex,m=t.onClick,y=t.onFocus,Z=t.onBlur,b=t.onKeyDown,g=t.onKeyPress,x=t.onKeyUp,C=t.autoFocus,k=t.value,j=t.required,w=(0,o.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),O=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),E=this.state.checked,I=f()(n,i,(e={},(0,r.Z)(e,"".concat(n,"-checked"),E),(0,r.Z)(e,"".concat(n,"-disabled"),p),e));return d.createElement("span",{className:I,style:l},d.createElement("input",(0,a.Z)({name:u,id:s,type:c,required:j,readOnly:v,disabled:p,tabIndex:h,className:"".concat(n,"-input"),checked:!!E,onClick:m,onFocus:y,onBlur:Z,onKeyUp:x,onKeyDown:b,onKeyPress:g,onChange:this.handleChange,autoFocus:C,ref:this.saveInput,value:k},O)),d.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,i.Z)((0,i.Z)({},t),{},{checked:e.checked}):null}}]),n}(d.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.Z=v}}]);