"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5572],{55940:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(1413),a=t(45987),l=(t(47313),t(59491)),r=t(47515),c=t(23560),o=t(24511),s=t(79492),u=t(46417),d=["size","onClick","type"];function h(e){var n=e.size,t=void 0===n?"":n,h=e.onClick,f=e.type,v=void 0===f?"default":f,p=(0,a.Z)(e,d),Z=(0,o.$)().t,m=(0,s.Z)().isDemo;return(0,u.jsx)(l.Z,(0,i.Z)({size:t,icon:(0,u.jsx)(r.Z,{}),onClick:function(e){m?c.Am.warning(Z("cannot.work.demo")):h(e)},type:v},p))}},53233:function(e,n,t){var i=t(1413),a=t(29439),l=t(47313),r=t(56140),c=t(67251),o=t(45705),s=t(86345),u=t(78267),d=t(37388),h=t(59491),f=t(99587),v=t(24511),p=t(46417),Z=r.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,r=e.setColumns,m=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,y=(0,v.$)().t,b=(0,l.useState)(!1),C=(0,a.Z)(b,2),w=C[0],k=C[1],_=(0,p.jsx)(c.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,p.jsx)(c.Z.Item,{children:(0,p.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(Z,{children:e.title}),(0,p.jsx)(s.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));r(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,p.jsx)(u.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){k(e)},visible:w,children:(0,p.jsx)(d.Z,{title:y("change.columns"),children:(0,p.jsx)(h.Z,{style:(0,i.Z)({},m),size:g,icon:(0,p.jsx)(f.Z,{}),children:j?null:y("Columns")})})})}},49655:function(e,n,t){t.d(n,{_:function(){return m}});var i=t(1413),a=t(93433),l=t(15861),r=t(29439),c=t(45987),o=t(87757),s=t.n(o),u=t(47313),d=t(12279),h=t.n(d),f=t(74294),v=t(72652),p=t(46417),Z=["fetchOptions","debounceTimeout","hasMore"],m=function(e){var n=e.fetchOptions,t=e.debounceTimeout,o=void 0===t?400:t,d=e.hasMore,m=(0,c.Z)(e,Z),x=(0,u.useState)(!1),g=(0,r.Z)(x,2),j=g[0],y=g[1],b=(0,u.useState)([]),C=(0,r.Z)(b,2),w=C[0],k=C[1],_=(0,u.useState)(!1),S=(0,r.Z)(_,2),z=S[0],V=S[1],H=(0,u.useState)(null),I=(0,r.Z)(H,2),M=I[0],N=I[1],O=(0,u.useState)(1),A=(0,r.Z)(O,2),T=A[0],P=A[1],F=(0,u.useMemo)((function(){return h()((function(e){k([]),N(e),y(!0),n({search:e}).then((function(e){k(e),P(2),y(!1)})).finally((function(){return V(!1)}))}),o)}),[n,o,T]),L=function(){var e=(0,l.Z)(s().mark((function e(t){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.target,z||i.scrollTop+i.offsetHeight!==i.scrollHeight||d&&(V(!0),i.scrollTo(0,i.scrollHeight),n({search:M,page:T}).then((function(e){P((function(e){return e+1})),k([].concat((0,a.Z)(w),(0,a.Z)(e)))})).finally((function(){return V(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(f.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,onPopupScroll:L,labelInValue:!0,filterOption:!1,onSearch:F,notFoundContent:j?(0,p.jsx)(v.Z,{size:"small"}):"no results",onFocus:function(){w.length||F("")}},m),{},{children:[w.map((function(e,n){return(0,p.jsx)(f.Z.Option,{value:e.value,children:e.label},n)})),z&&(0,p.jsx)(f.Z.Option,{children:(0,p.jsx)(v.Z,{size:"small"})})]}))}},48008:function(e,n,t){t(47313);var i=t(9274),a=t(87569),l=t(59491),r=t(24511),c=t(46417);n.Z=function(e){var n=e.open,t=e.handleCancel,o=e.text,s=e.click,u=e.loading,d=e.subTitle,h=(0,r.$)().t;return(0,c.jsxs)(i.Z,{closable:!1,visible:n,footer:null,centered:!0,children:[(0,c.jsx)(a.ZP,{status:"warning",title:o,subTitle:d}),(0,c.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,c.jsx)(l.Z,{type:"primary",className:"mr-2",onClick:s,loading:u,children:h("yes")}),(0,c.jsx)(l.Z,{onClick:function(){return t()},children:h("no")})]})]})}},41481:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(1413),a=t(29439),l=t(45987),r=t(47313),c=t(66672),o=t(16031),s=t(40765),u=t(46417),d=["handleChange","defaultValue","resetSearch"];function h(e){var n=e.handleChange,t=e.defaultValue,h=e.resetSearch,f=(0,l.Z)(e,d),v=(0,r.useState)(t),p=(0,a.Z)(v,2),Z=p[0],m=p[1],x=(0,r.useMemo)((function(){return(0,o.debounce)((function(e){n(e)}),800)}),[n]);return(0,r.useEffect)((function(){m(t)}),[h,t]),(0,u.jsx)(c.Z,(0,i.Z)({value:Z,onChange:function(e){m(e.target.value),x(e.target.value)},prefix:(0,u.jsx)(s.Z,{})},f))}},13945:function(e,n,t){function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return i}})},85572:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne}});var i=t(4942),a=t(93433),l=t(1413),r=t(15861),c=t(29439),o=t(87757),s=t.n(o),u=t(47313),d=t(12019),h=t(66407),f=t(47515),v=t(55768),p=t(15386),Z=t(73591),m=t(45705),x=t(66204),g=t(26824),j=t(86345),y=t(59491),b=t(77181),C=t(78508),w=t(97421),k=t(74580),_=t(97890),S=t(23560),z=t(69658),V=t(2717),H=t(90954),I=t(30763),M=t(24511),N=t(55940),O=t(53233),A=t(41481),T=t(80314),P=t(26672),F=t(3925),L=t(48008),W=t(13945),$=t(74380),E=t(10976),U=t(9274),D=t(68197),K=t(59624),R=t(74294),q=t(46417),B=["pending","published","unpublished"];function Q(e){var n=e.data,t=e.handleCancel,i=e.paramsData,a=(0,V.I0)(),r=(0,M.$)().t,o=(0,V.v9)((function(e){return e.menu}),V.wU).activeMenu,s=E.Z.useForm(),d=(0,c.Z)(s,1)[0],h=(0,u.useState)(!1),f=(0,c.Z)(h,2),v=f[0],p=f[1];return(0,q.jsx)(U.Z,{visible:!!n,title:null===n||void 0===n?void 0:n.title,onCancel:t,footer:[(0,q.jsx)(y.Z,{type:"primary",onClick:function(){return d.submit()},loading:v,children:r("save")}),(0,q.jsx)(y.Z,{type:"default",onClick:t,children:r("cancel")})],children:(0,q.jsx)(E.Z,{form:d,layout:"vertical",onFinish:function(e){p(!0);var r=(0,l.Z)({},e);I.Z.statusUpdate(n.uuid,r).then((function(){t(),a((0,$.P2)(i)),a((0,H.A_)(o))})).finally((function(){return p(!1)}))},initialValues:{status:n.status},children:(0,q.jsx)(D.Z,{gutter:12,children:(0,q.jsx)(K.Z,{span:24,children:(0,q.jsx)(E.Z.Item,{label:r("status"),name:"status",rules:[{required:!0,message:r("required")}],children:(0,q.jsx)(R.Z,{children:B.map((function(e,n){return(0,q.jsx)(R.Z.Option,{value:e,children:r(e)},e+n)}))})})})})})})}var G=t(53149),J=t(49655),X=["blue","red","gold","volcano","cyan","lime"],Y=Z.Z.TabPane,ee=["all","pending","published","unpublished","deleted_at"],ne=function(){var e,n,t,o,E,U,D=(0,M.$)().t,K=(0,V.I0)(),R=(0,_.s0)(),B=(0,V.v9)((function(e){return e.menu}),V.wU).activeMenu,ne=(0,u.useState)(null),te=(0,c.Z)(ne,2),ie=te[0],ae=te[1],le=(0,u.useState)("all"),re=(0,c.Z)(le,2),ce=re[0],oe=re[1],se=(0,u.useState)(null),ue=(0,c.Z)(se,2),de=ue[0],he=ue[1],fe=(0,u.useState)(null),ve=(0,c.Z)(fe,2),pe=ve[0],Ze=ve[1],me=(null===(e=B.data)||void 0===e?void 0:e.role)||ce,xe=(0,u.useState)(null),ge=(0,c.Z)(xe,2),je=ge[0],ye=ge[1];function be(){return(be=(0,r.Z)(s().mark((function e(n){var t,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.search,i=n.page,a={search:0===(null===t||void 0===t?void 0:t.length)?void 0:t,status:"approved",page:i},e.abrupt("return",G.Z.search(a).then((function(e){return ye(e.links),e.data.map((function(e){return{label:null!==e.translation?e.translation.title:"no name",value:e.id}}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=(0,u.useState)([{title:D("id"),dataIndex:"id",key:"id",is_show:!0},{title:D("name"),dataIndex:"name",key:"name",is_show:!0},{title:D("created.by"),dataIndex:"shop",key:"shop",is_show:!0,render:function(e){var n;return e?(0,q.jsx)("span",{onClick:function(){return function(e){K((0,H.bL)({id:"edit-shop",url:"shop/".concat(e.uuid),name:D("edit.shop")})),R("/shop/".concat(e.uuid),{state:"edit"})}(e)},className:"text-hover",children:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title}):D("admin")}},{title:D("translations"),dataIndex:"locales",is_show:!0,render:function(e,n){var t;return(0,q.jsx)(m.Z,{children:null===(t=n.locales)||void 0===t?void 0:t.map((function(e,n){return(0,q.jsx)(x.Z,{className:"text-uppercase",color:[X[n]],children:e})}))})}},{title:D("image"),dataIndex:"img",key:"img",is_show:!0,render:function(e,n){return(0,q.jsx)(g.Z,{src:n.deleted_at?"https://via.placeholder.com/150":e,alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0},e+n.id)}},{title:D("active"),dataIndex:"active",is_show:!0,render:function(e,n){return(0,q.jsx)(j.Z,{onChange:function(){Se(!0),Ie(n.uuid),he(!0)},disabled:n.deleted_at,checked:e})}},{title:D("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,n){return(0,q.jsxs)("div",{children:["pending"===e?(0,q.jsx)(x.Z,{color:"blue",children:D(e)}):"unpublished"===e?(0,q.jsx)(x.Z,{color:"error",children:D(e)}):(0,q.jsx)(x.Z,{color:"cyan",children:D(e)}),n.deleted_at?"":(0,q.jsx)(d.Z,{onClick:function(){return Ze(n)}})]})}},{title:D("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,q.jsxs)(m.Z,{children:[(0,q.jsx)(y.Z,{type:"primary",icon:(0,q.jsx)(d.Z,{}),onClick:function(){return function(e){K((0,H.bL)({url:"recipe-category/edit/".concat(e.uuid),id:"category_edit",name:D("edit.category")})),R("/recipe-category/edit/".concat(e.uuid),{state:"edit"})}(n)},disabled:n.deleted_at}),(0,q.jsx)(y.Z,{icon:(0,q.jsx)(h.Z,{}),onClick:function(){return e=n.uuid,K((0,H.bL)({id:"category-clone",url:"recipe-category-clone/".concat(e),name:D("category.clone")})),void R("/recipe-category-clone/".concat(e),{state:"clone"});var e},disabled:n.deleted_at}),(0,q.jsx)(N.Z,{disabled:n.deleted_at,icon:(0,q.jsx)(f.Z,{}),onClick:function(){Ie([n.id]),Se(!0),Ue(!0)}})]})}}]),we=(0,c.Z)(Ce,2),ke=we[0],_e=we[1],Se=(0,u.useContext)(k._).setIsModalVisible,ze=(0,u.useState)(null),Ve=(0,c.Z)(ze,2),He=Ve[0],Ie=Ve[1],Me=(0,u.useState)(!1),Ne=(0,c.Z)(Me,2),Oe=Ne[0],Ae=Ne[1],Te=(0,u.useState)(!1),Pe=(0,c.Z)(Te,2),Fe=Pe[0],Le=Pe[1],We=(0,u.useState)(null),$e=(0,c.Z)(We,2),Ee=$e[0],Ue=$e[1],De=(0,V.v9)((function(e){return e.recipeCategory}),V.wU),Ke=De.categories,Re=De.meta,qe=De.loading,Be=B.data,Qe={search:null===Be||void 0===Be?void 0:Be.search,pageSize:Re.per_page,page:(null===Be||void 0===Be?void 0:Be.page)||1,status:"deleted_at"===me||"all"===me?void 0:me,deleted_at:"deleted_at"===me?me:void 0,shop_id:null===Be||void 0===Be||null===(n=Be.selectedShop)||void 0===n?void 0:n.value};(0,u.useEffect)((function(){B.refetch&&(K((0,$.P2)(Qe)),K((0,H.A_)(B)))}),[B.refetch]),(0,T.Z)((function(){K((0,$.P2)(Qe))}),[B.data]);var Ge={selectedRowKeys:He,onChange:function(e){Ie(e)}},Je=function(e){var n=B.data;K((0,H.nc)({activeMenu:B,data:(0,l.Z)((0,l.Z)({},n),e)}))};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(b.Z,{className:"p-0",children:(0,q.jsxs)(m.Z,{wrap:!0,size:[14,20],children:[(0,q.jsx)(A.Z,{placeholder:D("search"),className:"w-25",handleChange:function(e){Je({search:e})},defaultValue:null===(t=B.data)||void 0===t?void 0:t.search,resetSearch:!(null!==(o=B.data)&&void 0!==o&&o.search),style:{minWidth:300}}),(0,q.jsx)(J._,{placeholder:D("select.shop"),hasMore:null===je||void 0===je?void 0:je.next,loading:qe,fetchOptions:function(e){return be.apply(this,arguments)},style:{minWidth:180},onChange:function(e){return Je({selectedShop:e})},value:null===(E=B.data)||void 0===E?void 0:E.selectedShop}),"deleted_at"!==me?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(N.Z,{size:"",onClick:function(){null===He||0===He.length?S.Am.warning(D("select.the.product")):(Se(!0),Ue(!1))},children:D("delete.selected")}),(0,q.jsx)(N.Z,{onClick:function(){return ae({delete:!0})},children:D("delete.all")}),(0,q.jsxs)(y.Z,{style:{minWidth:150},onClick:function(){K((0,H.bL)({url:"recipe-categories/import",id:"category_import",name:D("import.category")})),R("/recipe-categories/import")},children:[(0,q.jsx)(F.o5r,{className:"mr-2"}),D("import")]}),(0,q.jsxs)(y.Z,{style:{minWidth:150},loading:Fe,onClick:function(){Le(!0);var e={type:"receipt",status:"all"===ce?void 0:ce};I.Z.export(e).then((function(e){var n=w.S0+e.data.file_name;window.location.href=n})).finally((function(){return Le(!1)}))},children:[(0,q.jsx)(F.bwQ,{className:"mr-2"}),D("export")]}),(0,q.jsx)(y.Z,{type:"primary",icon:(0,q.jsx)(v.Z,{}),onClick:function(){K((0,H.bL)({id:"category-add",url:"recipe-category/add",name:D("add.category")})),R("/recipe-category/add")},children:D("add.category")})]}):(0,q.jsx)(N.Z,{icon:(0,q.jsx)(P.uOc,{className:"mr-2"}),onClick:function(){return ae({restore:!0})},children:D("restore.all")}),(0,q.jsx)(y.Z,{icon:(0,q.jsx)(p.Z,{}),onClick:function(){K((0,H.nc)({activeMenu:B,data:void 0}))},disabled:!B.data,style:{minWidth:100}}),(0,q.jsx)(O.Z,{columns:ke,setColumns:_e})]})}),(0,q.jsxs)(b.Z,{title:D("categories"),children:[(0,q.jsx)(Z.Z,{className:"mt-3",activeKey:me,onChange:function(e){Je({role:e,page:1}),oe(e)},type:"card",children:ee.map((function(e){return(0,q.jsx)(Y,{tab:D(e)},e)}))}),(0,q.jsx)(C.Z,{scroll:{x:!0},rowSelection:Ge,columns:null===ke||void 0===ke?void 0:ke.filter((function(e){return e.is_show})),dataSource:Ke,pagination:{pageSize:Re.per_page,page:(null===Be||void 0===Be?void 0:Be.page)||1,total:Re.total,defaultCurrent:null===Be||void 0===Be?void 0:Be.page,current:null===(U=B.data)||void 0===U?void 0:U.page},rowKey:function(e){return e.id},onChange:function(e,n,t){var i=e.pageSize,a=e.current,r=t.field,c=t.order,o=(0,W.Z)(c);K((0,H.nc)({activeMenu:B,data:(0,l.Z)((0,l.Z)({},B.data),{},{perPage:i,page:a,column:r,sort:o})}))},loading:qe})]}),(0,q.jsx)(z.Z,{click:de?function(){Ae(!0),I.Z.setActive(He).then((function(){Se(!1),K((0,$.P2)(Qe)),S.Am.success(D("successfully.updated")),he(!1)})).finally((function(){return Ae(!1)}))}:function(){Ae(!0);var e=(0,l.Z)({},Object.assign.apply(Object,[{}].concat((0,a.Z)(He.map((function(e,n){return(0,i.Z)({},"ids[".concat(n,"]"),e)}))))));I.Z.delete(e).then((function(){K((0,$.P2)(Qe)),S.Am.success(D("successfully.deleted"))})).finally((function(){Se(!1),Ae(!1),Ue(null),Ie(null)}))},text:D(de?"set.active.product":Ee?"delete":"all.delete"),setText:Ie,setActive:he,loading:Oe}),ie&&(0,q.jsx)(L.Z,{open:ie,handleCancel:function(){return ae(null)},click:ie.restore?function(){Ae(!0),I.Z.restoreAll().then((function(){S.Am.success(D("successfully.restored")),K((0,$.P2)()),ae(null)})).finally((function(){return Ae(!1)}))}:function(){Ae(!0),I.Z.dropAll().then((function(){S.Am.success(D("successfully.deleted")),K((0,$.P2)()),ae(null)})).finally((function(){return Ae(!1)}))},text:ie.restore?D("restore.modal.text"):D("read.carefully"),subTitle:ie.restore?"":D("confirm.deletion"),loading:Oe,setText:Ie}),pe&&(0,q.jsx)(Q,{data:pe,handleCancel:function(){return Ze(null)},paramsData:Qe})]})}},15386:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(1413),a=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},r=t(17469),c=function(e,n){return a.createElement(r.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:l}))};c.displayName="ClearOutlined";var o=a.forwardRef(c)},99587:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(1413),a=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},r=t(17469),c=function(e,n){return a.createElement(r.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:l}))};c.displayName="TableOutlined";var o=a.forwardRef(c)}}]);