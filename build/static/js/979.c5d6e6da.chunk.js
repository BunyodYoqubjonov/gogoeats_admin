"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[979],{89802:function(e,n,t){t.d(n,{q:function(){return d}});var r=t(1413),i=t(29439),a=t(45987),l=t(47313),u=t(74294),o=t(72652),c=t(46417),s=["fetchOptions","refetch"],d=function(e){var n=e.fetchOptions,t=e.refetch,d=void 0!==t&&t,v=(0,a.Z)(e,s),f=(0,l.useState)(!1),h=(0,i.Z)(f,2),m=h[0],p=h[1],Z=(0,l.useState)([]),x=(0,i.Z)(Z,2),y=x[0],j=x[1];return(0,c.jsx)(u.Z,(0,r.Z)((0,r.Z)({labelInValue:!0,filterOption:!1,notFoundContent:m?(0,c.jsx)(o.Z,{size:"small"}):"no results"},v),{},{options:m?[]:y,onFocus:function(){y.length&&!d||(p(!0),n().then((function(e){j(e),p(!1)})))}}))}},53233:function(e,n,t){var r=t(1413),i=t(29439),a=t(47313),l=t(56140),u=t(67251),o=t(45705),c=t(86345),s=t(78267),d=t(37388),v=t(59491),f=t(99587),h=t(24511),m=t(46417),p=l.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,l=e.setColumns,Z=e.style,x=e.size,y=void 0===x?"":x,j=e.iconOnly,g=(0,h.$)().t,b=(0,a.useState)(!1),w=(0,i.Z)(b,2),_=w[0],C=w[1],k=(0,m.jsx)(u.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,m.jsx)(u.Z.Item,{children:(0,m.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,m.jsx)(p,{children:e.title}),(0,m.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));l(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,m.jsx)(s.Z,{overlay:k,trigger:["click"],onVisibleChange:function(e){C(e)},visible:_,children:(0,m.jsx)(d.Z,{title:g("change.columns"),children:(0,m.jsx)(v.Z,{style:(0,r.Z)({},Z),size:y,icon:(0,m.jsx)(f.Z,{}),children:j?null:g("Columns")})})})}},13622:function(e,n,t){t.d(n,{R:function(){return f}});var r=t(1413),i=t(29439),a=t(45987),l=t(47313),u=t(12279),o=t.n(u),c=t(74294),s=t(72652),d=t(46417),v=["fetchOptions","debounceTimeout","refetch"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,u=void 0===t?400:t,f=(e.refetch,(0,a.Z)(e,v)),h=(0,l.useState)(!1),m=(0,i.Z)(h,2),p=m[0],Z=m[1],x=(0,l.useState)([]),y=(0,i.Z)(x,2),j=y[0],g=y[1],b=(0,l.useMemo)((function(){return o()((function(e){g([]),Z(!0),n(e).then((function(e){g(e),Z(!1)}))}),u)}),[n,u]);return(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return b("")},filterOption:!1,onSearch:b,notFoundContent:p?(0,d.jsx)(s.Z,{size:"small"}):"no results"},f),{},{options:j,onFocus:function(){b("")}}))}},13945:function(e,n,t){function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return r}})},84017:function(e,n,t){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";if(!e)return"0";var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return n+" "+t}t.d(n,{Z:function(){return r}})},50979:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r=t(1413),i=t(29439),a=t(47313),l=t(73591),u=t(66204),o=t(45705),c=t(59491),s=t(37388),d=t(77181),v=t(78508),f=t(2717),h=t(90954),m=t(80314),p=t(13945),Z=t(24511),x=t(84017),y=t(12019),j=t(69893),g=t(9274),b=t(10976),w=t(68197),_=t(59624),C=t(16124),k=t(66672),I=t(89802),S=t(49986),z=t(30554),q=t(26457),V=t(83671),P=t(13622),H=t(46417);function O(e){var n,t,r,l,u,o,s,d,v=e.data,m=e.handleCancel,p=(0,Z.$)().t,x=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,y=(0,a.useState)(!1),j=(0,i.Z)(y,2),O=j[0],T=j[1],M=(0,f.I0)();return(0,H.jsx)(g.Z,{visible:!!v,title:p("pay.to.seller"),onCancel:m,footer:[(0,H.jsx)(c.Z,{onClick:m,children:p("cancel")},"calcel-btn"),(0,H.jsx)(c.Z,{type:"primary",form:"form",htmlType:"submit",loading:O,children:null!==v&&void 0!==v&&v.id?p("edit"):p("create")},"pay-btn")],children:(0,H.jsx)(b.Z,{initialValues:{cause:null===v||void 0===v?void 0:v.cause,price:null===v||void 0===v?void 0:v.price,answer:null===v||void 0===v?void 0:v.answer,currency_id:(null===v||void 0===v?void 0:v.currency)&&{value:null===v||void 0===v||null===(n=v.currency)||void 0===n?void 0:n.id,label:"".concat(null===v||void 0===v||null===(t=v.currency)||void 0===t?void 0:t.title," (").concat(null===v||void 0===v||null===(r=v.currency)||void 0===r?void 0:r.symbol,")")},payment_id:(null===v||void 0===v?void 0:v.payment)&&{value:null===v||void 0===v||null===(l=v.payment)||void 0===l?void 0:l.id,label:null===v||void 0===v||null===(u=v.payment)||void 0===u?void 0:u.tag},created_by:(null===v||void 0===v?void 0:v.createdBy)&&{value:null===v||void 0===v||null===(o=v.createdBy)||void 0===o?void 0:o.id,label:"".concat(null===v||void 0===v||null===(s=v.createdBy)||void 0===s?void 0:s.firstname," ").concat((null===v||void 0===v||null===(d=v.createdBy)||void 0===d?void 0:d.lastname)||"")}},onFinish:function(e){var n,t,r,i={cause:e.cause,price:e.price,created_by:null===e||void 0===e||null===(n=e.created_by)||void 0===n?void 0:n.value,payment_id:null===e||void 0===e||null===(t=e.payment_id)||void 0===t?void 0:t.value,currency_id:null===e||void 0===e||null===(r=e.currency_id)||void 0===r?void 0:r.value,answer:e.answer};T(!0),null!==v&&void 0!==v&&v.id?V.a.update(v.id,i).then((function(){m(),M((0,h.xo)(x))})).finally((function(){return T(!1)})):V.a.create(i).then((function(){m(),M((0,h.xo)(x))})).finally((function(){return T(!1)}))},id:"form",layout:"vertical",children:(0,H.jsxs)(w.Z,{gutter:24,children:[(0,H.jsxs)(_.Z,{span:12,children:[(0,H.jsx)(b.Z.Item,{name:"created_by",rules:[{required:!0,message:p("required")}],label:p("seller"),children:(0,H.jsx)(P.R,{className:"w-100",placeholder:p("select.seller"),fetchOptions:function(e){return S.Z.getAll({role:"seller",search:e}).then((function(e){return e.data.map((function(e){return{value:e.id,label:"".concat(e.firstname," ").concat(e.lastname||""),key:e.id}}))}))}})}),(0,H.jsx)(b.Z.Item,{name:"payment_id",rules:[{required:!0,message:p("required")}],label:p("payment"),children:(0,H.jsx)(I.q,{className:"w-100",placeholder:p("select.payment.type"),fetchOptions:function(){return q.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active&&"wallet"===e.tag})).map((function(e){return{value:e.id,label:e.tag,key:e.id}}))}))}})})]}),(0,H.jsxs)(_.Z,{span:12,children:[(0,H.jsx)(b.Z.Item,{name:"currency_id",rules:[{required:!0,message:p("required")}],label:p("currency"),children:(0,H.jsx)(I.q,{className:"w-100",placeholder:p("select.currency"),fetchOptions:function(){return z.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title," (").concat(e.symbol||"",")"),key:e.id}}))}))}})}),(0,H.jsx)(b.Z.Item,{name:"price",rules:[{required:!0,message:p("required")}],label:p("price"),children:(0,H.jsx)(C.Z,{className:"w-100",placeholder:p("amount"),min:0})})]}),(0,H.jsxs)(_.Z,{span:24,children:[(0,H.jsx)(b.Z.Item,{name:"cause",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(p("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(p("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(p("required")))}}],label:p("cause"),children:(0,H.jsx)(k.Z.TextArea,{showCount:!0,maxLength:100,placeholder:p("cause")})}),(0,H.jsx)(b.Z.Item,{name:"answer",label:p("answer"),rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(p("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(p("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(p("required")))}}],children:(0,H.jsx)(k.Z.TextArea,{showCount:!0,maxLength:100,placeholder:p("answer")})})]})]})})})}var T=t(53233),M=t(97890),N=t(47266),E=t(74294);function B(e){var n=e.data,t=e.handleCancel,r=e.statuses,l=(0,Z.$)().t,u=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,o=(0,a.useState)(!1),s=(0,i.Z)(o,2),d=s[0],v=s[1],m=(0,f.I0)();return(0,H.jsx)(g.Z,{visible:!!n,title:l("change.status"),onCancel:t,footer:[(0,H.jsx)(c.Z,{onClick:t,children:l("cancel")}),(0,H.jsx)(c.Z,{loading:d,type:"primary",form:"status",htmlType:"submit",children:l("change")},"pay-btn")],children:(0,H.jsx)(b.Z,{initialValues:{status:null===n||void 0===n?void 0:n.status},onFinish:function(e){v(!0),V.a.changeStatus(null===n||void 0===n?void 0:n.id,e).then((function(){t(),m((0,h.xo)(u))})).finally((function(){return v(!1)}))},id:"status",layout:"vertical",children:(0,H.jsx)(b.Z.Item,{label:l("status"),name:"status",children:(0,H.jsx)(E.Z,{options:r.slice(1).map((function(e){return{label:l(e),value:e}}))})})})})}var F=t(70816),A=t.n(F),$=l.Z.TabPane,R=["all","accepted","pending","canceled"];function U(){var e,n=(0,Z.$)().t,t=(0,f.I0)(),g=(0,M.s0)(),b=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,w=(0,a.useState)("all"),_=(0,i.Z)(w,2),C=_[0],k=_[1],I=(null===(e=b.data)||void 0===e?void 0:e.role)||C,S=b.data,z={sort:null===S||void 0===S?void 0:S.sort,column:null===S||void 0===S?void 0:S.column,perPage:null===S||void 0===S?void 0:S.perPage,page:null===S||void 0===S?void 0:S.page,status:"all"===C?void 0:I},q=(0,f.v9)((function(e){return e.adminPayouts}),f.wU),V=q.payoutRequests,P=q.meta,E=q.loading,F=q.params,U=(0,a.useState)(null),Y=(0,i.Z)(U,2),L=Y[0],D=Y[1],K=(0,a.useState)(null),G=(0,i.Z)(K,2),J=G[0],Q=G[1],W=(0,a.useState)([{title:n("user"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:function(e){return(0,H.jsx)("div",{className:"text-hover",onClick:function(){return function(e){t((0,h.bL)({url:"/users/user/".concat(e.uuid),id:"user_info",name:n("user.info")})),g("/users/user/".concat(e.uuid),{state:{user_id:e.id}})}(e)},children:(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.lastname)})}},{title:n("price"),dataIndex:"price",key:"price",is_show:!0,render:function(e,n){var t;return(0,x.Z)(e,null===(t=n.currency)||void 0===t?void 0:t.symbol)}},{title:n("status"),dataIndex:"status",key:"status",is_show:!0,render:function(e){return(0,H.jsx)("div",{children:"pending"===e?(0,H.jsx)(u.Z,{color:"blue",children:n(e)}):"canceled"===e?(0,H.jsx)(u.Z,{color:"error",children:n(e)}):(0,H.jsx)(u.Z,{color:"cyan",children:n(e)})})}},{title:n("cause"),dataIndex:"cause",key:"cause",is_show:!0},{title:n("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e,n){return A()(null===n||void 0===n?void 0:n.created_at).format("YYYY-MM-DD HH:mm")}},{title:n("answer"),dataIndex:"answer",key:"answer",is_show:!0},{title:n("options"),dataIndex:"uuid",key:"uuid",is_show:!0,render:function(e,t){return(0,H.jsxs)(o.Z,{children:[(0,H.jsx)(c.Z,{type:"primary",icon:(0,H.jsx)(y.Z,{}),onClick:function(){return D(t)}}),"accepted"!==t.status&&(0,H.jsx)(s.Z,{title:n("change.status"),children:(0,H.jsx)(c.Z,{onClick:function(){return Q(t)},icon:(0,H.jsx)(j.Z,{})})})]})}}]),X=(0,i.Z)(W,2),ee=X[0],ne=X[1];(0,a.useEffect)((function(){b.refetch&&(t((0,N.T)(z)),t((0,h.A_)(b)))}),[b.refetch]),(0,m.Z)((function(){t((0,N.T)(z))}),[b.data]);return(0,H.jsxs)(d.Z,{title:n("payout.requests"),extra:(0,H.jsxs)(o.Z,{children:[(0,H.jsx)(c.Z,{onClick:function(){return D(!0)},type:"primary",children:n("create.payout")}),(0,H.jsx)(T.Z,{columns:ee,setColumns:ne})]}),children:[(0,H.jsx)(l.Z,{className:"mt-3",activeKey:I,onChange:function(e){!function(e){var n=b.data;t((0,h.nc)({activeMenu:b,data:(0,r.Z)((0,r.Z)({},n),e)}))}({role:e,page:1}),k(e)},type:"card",children:R.map((function(e){return(0,H.jsx)($,{tab:n(e)},e)}))}),(0,H.jsx)(v.Z,{scroll:{x:!0},columns:null===ee||void 0===ee?void 0:ee.filter((function(e){return e.is_show})),dataSource:V,pagination:{pageSize:F.perPage,page:F.page,total:P.total,defaultCurrent:F.page},rowKey:function(e){return e.id},onChange:function(e,n,r){var i=e.pageSize,a=e.current,l=r.field,u=r.order,o=(0,p.Z)(u);t((0,h.nc)({activeMenu:b,data:{perPage:i,page:a,column:l,sort:o}}))},loading:E}),L&&(0,H.jsx)(O,{data:L,handleCancel:function(){return D(null)}}),J&&(0,H.jsx)(B,{data:J,statuses:R,handleCancel:function(){return Q(null)}})]})}},99587:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(1413),i=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},l=t(17469),u=function(e,n){return i.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:a}))};u.displayName="TableOutlined";var o=i.forwardRef(u)}}]);