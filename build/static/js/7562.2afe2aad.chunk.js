"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7562],{55940:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(1413),i=n(45987),r=(n(47313),n(59491)),o=n(47515),l=n(23560),s=n(24511),u=n(79492),c=n(46417),d=["size","onClick","type"];function h(e){var t=e.size,n=void 0===t?"":t,h=e.onClick,v=e.type,f=void 0===v?"default":v,p=(0,i.Z)(e,d),Z=(0,s.$)().t,m=(0,u.Z)().isDemo;return(0,c.jsx)(r.Z,(0,a.Z)({size:n,icon:(0,c.jsx)(o.Z,{}),onClick:function(e){m?l.Am.warning(Z("cannot.work.demo")):h(e)},type:f},p))}},53233:function(e,t,n){var a=n(1413),i=n(29439),r=n(47313),o=n(56140),l=n(67251),s=n(45705),u=n(86345),c=n(78267),d=n(37388),h=n(59491),v=n(99587),f=n(24511),p=n(46417),Z=o.Z.Text;t.Z=function(e){var t=e.columns,n=void 0===t?[]:t,o=e.setColumns,m=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,y=(0,f.$)().t,b=(0,r.useState)(!1),w=(0,i.Z)(b,2),_=w[0],C=w[1],k=(0,p.jsx)(l.Z,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,p.jsx)(l.Z.Item,{children:(0,p.jsxs)(s.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(Z,{children:e.title}),(0,p.jsx)(u.Z,{defaultChecked:!0,onClick:function(){return function(e){var t=null===n||void 0===n?void 0:n.map((function(t){return t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t}));o(t)}(e)},disabled:1===t})]})},e+t)}))});return(0,p.jsx)(c.Z,{overlay:k,trigger:["click"],onVisibleChange:function(e){C(e)},visible:_,children:(0,p.jsx)(d.Z,{title:y("change.columns"),children:(0,p.jsx)(h.Z,{style:(0,a.Z)({},m),size:g,icon:(0,p.jsx)(v.Z,{}),children:j?null:y("Columns")})})})}},49655:function(e,t,n){n.d(t,{_:function(){return m}});var a=n(1413),i=n(93433),r=n(15861),o=n(29439),l=n(45987),s=n(87757),u=n.n(s),c=n(47313),d=n(12279),h=n.n(d),v=n(74294),f=n(72652),p=n(46417),Z=["fetchOptions","debounceTimeout","hasMore"],m=function(e){var t=e.fetchOptions,n=e.debounceTimeout,s=void 0===n?400:n,d=e.hasMore,m=(0,l.Z)(e,Z),x=(0,c.useState)(!1),g=(0,o.Z)(x,2),j=g[0],y=g[1],b=(0,c.useState)([]),w=(0,o.Z)(b,2),_=w[0],C=w[1],k=(0,c.useState)(!1),S=(0,o.Z)(k,2),I=S[0],z=S[1],H=(0,c.useState)(null),V=(0,o.Z)(H,2),M=V[0],A=V[1],T=(0,c.useState)(1),P=(0,o.Z)(T,2),q=P[0],N=P[1],O=(0,c.useMemo)((function(){return h()((function(e){C([]),A(e),y(!0),t({search:e}).then((function(e){C(e),N(2),y(!1)})).finally((function(){return z(!1)}))}),s)}),[t,s,q]),D=function(){var e=(0,r.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target,I||a.scrollTop+a.offsetHeight!==a.scrollHeight||d&&(z(!0),a.scrollTo(0,a.scrollHeight),t({search:M,page:q}).then((function(e){N((function(e){return e+1})),C([].concat((0,i.Z)(_),(0,i.Z)(e)))})).finally((function(){return z(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(v.Z,(0,a.Z)((0,a.Z)({showSearch:!0,allowClear:!0,onPopupScroll:D,labelInValue:!0,filterOption:!1,onSearch:O,notFoundContent:j?(0,p.jsx)(f.Z,{size:"small"}):"no results",onFocus:function(){_.length||O("")}},m),{},{children:[_.map((function(e,t){return(0,p.jsx)(v.Z.Option,{value:e.value,children:e.label},t)})),I&&(0,p.jsx)(v.Z.Option,{children:(0,p.jsx)(f.Z,{size:"small"})})]}))}},48008:function(e,t,n){n(47313);var a=n(9274),i=n(87569),r=n(59491),o=n(24511),l=n(46417);t.Z=function(e){var t=e.open,n=e.handleCancel,s=e.text,u=e.click,c=e.loading,d=e.subTitle,h=(0,o.$)().t;return(0,l.jsxs)(a.Z,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,l.jsx)(i.ZP,{status:"warning",title:s,subTitle:d}),(0,l.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,l.jsx)(r.Z,{type:"primary",className:"mr-2",onClick:u,loading:c,children:h("yes")}),(0,l.jsx)(r.Z,{onClick:function(){return n()},children:h("no")})]})]})}},51988:function(e,t,n){n.d(t,{Z:function(){return u}});n(47313);var a=n(24511),i=n(66188),r=n.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",o=n.p+"static/media/noresult.ac4af107751f94856a9c.riv",l=n.p+"static/media/nosell.32cb2c2cc548a15c820d.riv",s=n(46417);var u=function(e){var t=e.id,n=void 0===t?"noresult":t,u=e.text,c=void 0===u?"":u,d=(0,a.$)().t,h={src:{noproductsfound:r,noresult:o,nosell:l}[n],artboard:"New Artboard",autoplay:!0},v=(0,i.useRive)(h).RiveComponent;return(0,s.jsxs)("div",{className:"animation-canvas",children:[(0,s.jsx)("div",{style:{width:"100%",height:200},children:(0,s.jsx)(v,{})}),(0,s.jsx)("div",{className:"text",children:d(c)})]})}},41481:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(1413),i=n(29439),r=n(45987),o=n(47313),l=n(66672),s=n(16031),u=n(40765),c=n(46417),d=["handleChange","defaultValue","resetSearch"];function h(e){var t=e.handleChange,n=e.defaultValue,h=e.resetSearch,v=(0,r.Z)(e,d),f=(0,o.useState)(n),p=(0,i.Z)(f,2),Z=p[0],m=p[1],x=(0,o.useMemo)((function(){return(0,s.debounce)((function(e){t(e)}),800)}),[t]);return(0,o.useEffect)((function(){m(n)}),[h,n]),(0,c.jsx)(l.Z,(0,a.Z)({value:Z,onChange:function(e){m(e.target.value),x(e.target.value)},prefix:(0,c.jsx)(u.Z,{})},v))}},13945:function(e,t,n){function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{Z:function(){return a}})},88017:function(e,t,n){n.r(t),n.d(t,{default:function(){return me}});var a=n(73591),i=n(24511),r=n(97890),o=n(15861),l=n(4942),s=n(93433),u=n(1413),c=n(29439),d=n(87757),h=n.n(d),v=n(47313),f=n(12019),p=n(66407),Z=n(47515),m=n(55768),x=n(15386),g=n(26824),j=n(45705),y=n(66204),b=n(86345),w=n(59491),_=n(77181),C=n(78508),k=n(23560),S=n(97421),I=n(74580),z=n(69658),H=n(2717),V=n(90954),M=n(17101),A=n(95882),T=n(80314),P=n(11216),q=n(30763),N=n(53149),O=n(41481),D=n(13945),E=n(55940),$=n(10976),B=n(9274),F=n(68197),L=n(59624),R=n(74294),W=n(66672),K=n(14349),U=n(71810),Y=n(46417),Q=["published","pending","unpublished"],G=["accept","decline"],J={type:"product"};function X(e){var t=e.orderDetails,n=e.handleCancel,a=e.paramsData,r=e.listType,o=void 0===r?"product":r,l=(0,H.v9)((function(e){return e.menu}),H.wU).activeMenu,s=$.Z.useForm(),d=(0,c.Z)(s,1)[0],h=(0,H.I0)(),f=(0,i.$)().t,p=(0,v.useState)(!1),Z=(0,c.Z)(p,2),m=Z[0],x=Z[1],g=(0,v.useState)(null===t||void 0===t?void 0:t.status),j=(0,c.Z)(g,2),y=j[0],b=j[1],_="request"===o?G:Q;return(0,Y.jsx)(B.Z,{visible:!!t,title:t.title,onCancel:n,footer:[(0,Y.jsx)(w.Z,{type:"primary",onClick:function(){return d.submit()},loading:m,children:f("save")}),(0,Y.jsx)(w.Z,{type:"default",onClick:n,children:f("cancel")})],children:(0,Y.jsx)($.Z,{form:d,layout:"vertical",onFinish:function(e){x(!0);var i=(0,u.Z)({},e);"product"===o?function(e,t){M.Z.updateStatus(e,t).then((function(){n(),k.Am.success(f("successfully.updated")),h((0,A.t2)(a)),h((0,V.A_)(l))})).finally((function(){return x(!1)}))}(t.uuid,i):o&&function(e,t){var a={status_note:t.status_note,status:"accept"===t.status?"approved":"canceled"};K.Z.changeStatus(e,a).then((function(){n(),k.Am.success(f("successfully.updated")),h((0,U.aw)(J)),h((0,V.A_)(l))})).finally((function(){return x(!1)}))}(t.id,i)},initialValues:"product"===o?{status:t.status,status_note:t.status_note}:{status:"accept",status_note:t.status_note},children:(0,Y.jsx)(F.Z,{gutter:12,children:(0,Y.jsxs)(L.Z,{span:24,children:[(0,Y.jsx)($.Z.Item,{label:f("status"),name:"status",rules:[{required:!0,message:f("required")}],children:(0,Y.jsx)(R.Z,{onChange:function(e){return b(e)},children:_.map((function(e,t){return(0,Y.jsx)(R.Z.Option,{value:e,children:f(e)},e+t)}))})}),("unpublished"===y||"decline"===y)&&(0,Y.jsx)($.Z.Item,{name:"status_note",label:f("note"),rules:[{validator:function(e,t){return t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(f("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(f("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(f("required")))}}],children:(0,Y.jsx)(W.Z.TextArea,{maxLength:250,showCount:!0})})]})})})})}var ee=n(53233),te=n(26672),ne=n(48008),ae=n(51988),ie=n(3925),re=n(49655),oe=["blue","red","gold","volcano","cyan","lime"],le=["all","pending","published","unpublished","deleted_at"],se=a.Z.TabPane,ue=function(){var e,t,n,d,$,B,F,L,R,W,K,U,Q=(0,i.$)().t,G=(0,H.I0)(),J=(0,r.s0)(),ue=(0,v.useState)(null),ce=(0,c.Z)(ue,2),de=ce[0],he=ce[1],ve=(0,v.useState)(null),fe=(0,c.Z)(ve,2),pe=fe[0],Ze=fe[1],me=(0,v.useState)(null),xe=(0,c.Z)(me,2),ge=xe[0],je=xe[1],ye=(0,v.useState)(null),be=(0,c.Z)(ye,2),we=be[0],_e=be[1],Ce=(0,v.useState)("all"),ke=(0,c.Z)(Ce,2),Se=ke[0],Ie=ke[1],ze=(0,v.useState)(null),He=(0,c.Z)(ze,2),Ve=He[0],Me=He[1],Ae=function(){G((0,V.nc)({activeMenu:Ge,data:null}))},Te=(0,v.useState)([{title:Q("id"),dataIndex:"id",is_show:!0,sorter:function(e,t){return e.id-t.id}},{title:Q("image"),dataIndex:"img",is_show:!0,render:function(e,t){return(0,Y.jsx)(g.Z,{width:100,src:t.deleted_at?"https://fakeimg.pl/640x360":S.bV+e,placeholder:!0,style:{borderRadius:4}})}},{title:Q("name"),dataIndex:"name",is_show:!0},{title:Q("translations"),dataIndex:"locales",is_show:!0,render:function(e,t){var n;return(0,Y.jsx)(j.Z,{children:null===(n=t.locales)||void 0===n?void 0:n.map((function(e,t){return(0,Y.jsx)(y.Z,{className:"text-uppercase",color:[oe[t]],children:e})}))})}},{title:Q("shop"),dataIndex:"shop_id",is_show:!0,render:function(e,t){var n,a;return null===(n=t.shop)||void 0===n||null===(a=n.translation)||void 0===a?void 0:a.title}},{title:Q("category"),dataIndex:"category_name",is_show:!0},{title:Q("active"),dataIndex:"active",is_show:!0,render:function(e,t){return(0,Y.jsx)(b.Z,{onChange:function(){Be(!0),$e(t.uuid),Ze(!0)},disabled:t.deleted_at,checked:e})}},{title:Q("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,t){return(0,Y.jsxs)("div",{children:["pending"===e?(0,Y.jsx)(y.Z,{color:"blue",children:Q(e)}):"unpublished"===e?(0,Y.jsx)(y.Z,{color:"error",children:Q(e)}):(0,Y.jsx)(y.Z,{color:"cyan",children:Q(e)}),t.deleted_at?"":(0,Y.jsx)(f.Z,{onClick:function(){return he(t)}})]})}},{title:Q("options"),dataIndex:"options",is_show:!0,render:function(e,t){return(0,Y.jsxs)(j.Z,{children:[(0,Y.jsx)(w.Z,{type:"primary",icon:(0,Y.jsx)(f.Z,{}),onClick:function(){return e=t.uuid,G((0,V.bL)({id:"product-edit",url:"product/".concat(e),name:Q("edit.product")})),Ae(),void J("/product/".concat(e));var e},disabled:t.deleted_at}),(0,Y.jsx)(w.Z,{icon:(0,Y.jsx)(p.Z,{}),onClick:function(){return e=t.uuid,G((0,V.bL)({id:"product-clone",url:"product-clone/".concat(e),name:Q("clone.product")})),Ae(),void J("/product-clone/".concat(e));var e},disabled:t.deleted_at}),(0,Y.jsx)(E.Z,{icon:(0,Y.jsx)(Z.Z,{}),onClick:function(){Be(!0),$e([t.id]),je(!0),Ze(!1)},disabled:t.deleted_at})]})}}]),Pe=(0,c.Z)(Te,2),qe=Pe[0],Ne=Pe[1],Oe=(0,v.useState)(null),De=(0,c.Z)(Oe,2),Ee=De[0],$e=De[1],Be=(0,v.useContext)(I._).setIsModalVisible,Fe=(0,v.useState)(!1),Le=(0,c.Z)(Fe,2),Re=Le[0],We=Le[1],Ke=(0,v.useState)(!1),Ue=(0,c.Z)(Ke,2),Ye=Ue[0],Qe=Ue[1],Ge=(0,H.v9)((function(e){return e.menu}),H.wU).activeMenu,Je=(0,H.v9)((function(e){return e.product}),H.wU),Xe=Je.products,et=Je.meta,tt=Je.loading,nt=Je.params,at=(null===(e=Ge.data)||void 0===e?void 0:e.role)||Se,it=Ge.data,rt={search:null===it||void 0===it?void 0:it.search,brand_id:null===it||void 0===it||null===(t=it.selectedBrand)||void 0===t?void 0:t.value,category_id:null===it||void 0===it||null===(n=it.selectedCategory)||void 0===n?void 0:n.value,shop_id:null===it||void 0===it||null===(d=it.selectedShop)||void 0===d?void 0:d.value,sort:null===it||void 0===it?void 0:it.sort,status:"deleted_at"===at||"all"===at?void 0:at,deleted_at:"deleted_at"===at?at:null,column:null===it||void 0===it?void 0:it.column,perPage:null===it||void 0===it?void 0:it.perPage,page:null===it||void 0===it?void 0:it.page};(0,T.Z)((function(){G((0,A.t2)(rt))}),[Ge.data]),(0,v.useEffect)((function(){Ge.refetch&&(G((0,A.t2)(rt)),G((0,V.A_)(Ge)))}),[Ge.refetch]);function ot(){return ot=(0,o.Z)(h().mark((function e(t){var n,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a=t.page,i={search:0===(null===n||void 0===n?void 0:n.length)?void 0:n,page:a},e.abrupt("return",P.Z.search(i).then((function(e){return Me(e.links),e.data.map((function(e){return{label:e.title,value:e.id}}))})));case 3:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}function lt(){return lt=(0,o.Z)(h().mark((function e(t){var n,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a=t.page,i={search:0===(null===n||void 0===n?void 0:n.length)?void 0:n,type:"main",page:a},e.abrupt("return",q.Z.search(i).then((function(e){return Me(e.links),e.data.map((function(e){var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))})));case 3:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}function st(){return st=(0,o.Z)(h().mark((function e(t){var n,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a=t.page,i={search:0===(null===n||void 0===n?void 0:n.length)?void 0:n,status:"approved",page:a},e.abrupt("return",N.Z.search(i).then((function(e){return Me(e.links),e.data.map((function(e){return{label:null!==e.translation?e.translation.title:"no name",value:e.id}}))})));case 3:case"end":return e.stop()}}),e)}))),st.apply(this,arguments)}var ut=function(e){var t=Ge.data;G((0,V.nc)({activeMenu:Ge,data:(0,u.Z)((0,u.Z)({},t),e)}))},ct={selectedRowKeys:Ee,onChange:function(e){$e(e)}};return(0,Y.jsxs)(v.Fragment,{children:[(0,Y.jsx)(_.Z,{className:"p-0",children:(0,Y.jsxs)(j.Z,{wrap:!0,size:[14,20],children:[(0,Y.jsx)(O.Z,{placeholder:Q("search"),handleChange:function(e){return ut({search:e})},defaultValue:null===($=Ge.data)||void 0===$?void 0:$.search,resetSearch:!(null!==(B=Ge.data)&&void 0!==B&&B.search),style:{minWidth:300}}),(0,Y.jsx)(re._,{placeholder:Q("select.shop"),hasMore:null===Ve||void 0===Ve?void 0:Ve.next,loading:tt,fetchOptions:function(e){return st.apply(this,arguments)},style:{minWidth:180},onChange:function(e){return ut({selectedShop:e})},value:null===(F=Ge.data)||void 0===F?void 0:F.selectedShop}),(0,Y.jsx)(re._,{placeholder:Q("select.category"),fetchOptions:function(e){return lt.apply(this,arguments)},hasMore:null===Ve||void 0===Ve?void 0:Ve.next,loading:tt,style:{minWidth:180},onChange:function(e){return ut({selectedCategory:e})},value:null===(L=Ge.data)||void 0===L?void 0:L.selectedCategory}),(0,Y.jsx)(re._,{placeholder:Q("select.brand"),fetchOptions:function(e){return ot.apply(this,arguments)},hasMore:null===Ve||void 0===Ve?void 0:Ve.next,loading:tt,style:{minWidth:180},onChange:function(e){return ut({selectedBrand:e})},value:null===(R=Ge.data)||void 0===R?void 0:R.selectedBrand}),(0,Y.jsxs)(w.Z,{onClick:function(){G((0,V.bL)({id:"product-import",url:"catalog/product/import",name:Q("product.import")})),J("/catalog/product/import")},children:[(0,Y.jsx)(ie.o5r,{className:"mr-2"}),Q("import")]}),"deleted_at"!==Se&&(0,Y.jsxs)(w.Z,{loading:Ye,onClick:function(){Qe(!0),M.Z.export(rt).then((function(e){var t=S.S0+e.data.file_name;window.location.href=t})).finally((function(){return Qe(!1)}))},children:[(0,Y.jsx)(ie.bwQ,{className:"mr-2"}),Q("export")]}),(0,Y.jsx)(ee.Z,{columns:qe,setColumns:Ne}),(0,Y.jsx)(w.Z,{icon:(0,Y.jsx)(m.Z,{}),type:"primary",onClick:function(){G((0,V.bL)({id:"product-add",url:"product/add",name:Q("add.product")})),Ae(),J("/product/add")},children:Q("add.product")}),"deleted_at"!==Se&&(0,Y.jsx)(E.Z,{size:"",onClick:function(){null===Ee||0===Ee.length?k.Am.warning(Q("select.the.product")):(Be(!0),je(!1))},children:Q("delete.selected")}),"deleted_at"!==at?(0,Y.jsx)(E.Z,{size:"",onClick:function(){return _e({delete:!0})},children:Q("delete.all")}):(0,Y.jsx)(E.Z,{icon:(0,Y.jsx)(te.uOc,{className:"mr-2"}),onClick:function(){return _e({restore:!0})},children:Q("restore.all")}),(0,Y.jsx)(w.Z,{icon:(0,Y.jsx)(x.Z,{}),onClick:function(){G((0,V.nc)({activeMenu:Ge,data:void 0}))},disabled:!Ge.data,style:{minWidth:150}})]})}),(0,Y.jsxs)(_.Z,{title:Q("product"),children:[(0,Y.jsx)(a.Z,{className:"mt-3",activeKey:at,onChange:function(e){ut({role:e,page:1}),Ie(e)},type:"card",children:le.map((function(e){return(0,Y.jsx)(se,{tab:Q(e)},e)}))}),(0,Y.jsx)(C.Z,{locale:{emptyText:(0,Y.jsx)(ae.Z,{})},scroll:{x:!0},rowSelection:ct,loading:tt,columns:null===qe||void 0===qe?void 0:qe.filter((function(e){return e.is_show})),dataSource:Xe,pagination:{pageSize:nt.perPage,page:(null===(W=Ge.data)||void 0===W?void 0:W.page)||1,total:et.total,defaultCurrent:null===(K=Ge.data)||void 0===K?void 0:K.page,current:null===(U=Ge.data)||void 0===U?void 0:U.page},onChange:function(e,t,n){var a=e.pageSize,i=e.current,r=n.field,o=n.order,l=(0,D.Z)(o);G((0,V.nc)({activeMenu:Ge,data:(0,u.Z)((0,u.Z)({},Ge.data),{},{perPage:a,page:i,column:r,sort:l})}))},rowKey:function(e){return e.id}})]}),de&&(0,Y.jsx)(X,{orderDetails:de,handleCancel:function(){return he(null)},paramsData:rt}),(0,Y.jsx)(z.Z,{click:pe?function(){We(!0),M.Z.setActive(Ee).then((function(){Be(!1),G((0,A.t2)(rt)),k.Am.success(Q("successfully.updated")),Ze(!1)})).finally((function(){return We(!1)}))}:function(){We(!0);var e=(0,u.Z)({},Object.assign.apply(Object,[{}].concat((0,s.Z)(Ee.map((function(e,t){return(0,l.Z)({},"ids[".concat(t,"]"),e)}))))));M.Z.delete(e).then((function(){Be(!1),k.Am.success(Q("successfully.deleted")),G((0,A.t2)(rt)),je(null),Ze(!1)})).finally((function(){return We(!1)}))},text:Q(pe?"set.active.product":ge?"delete":"all.delete"),loading:Re,setText:$e,setActive:Ze}),we&&(0,Y.jsx)(ne.Z,{open:we,handleCancel:function(){return _e(null)},click:we.restore?function(){We(!0),M.Z.restoreAll().then((function(){k.Am.success(Q("successfully.deleted")),G((0,A.t2)(rt)),_e(null)})).finally((function(){return We(!1)}))}:function(){We(!0),M.Z.dropAll().then((function(){k.Am.success(Q("successfully.deleted")),G((0,A.t2)()),_e(null)})).finally((function(){$e(null),We(!1)}))},text:we.restore?Q("restore.modal.text"):Q("read.carefully"),subTitle:we.restore?"":Q("confirm.deletion"),loading:Re,setText:$e,setActive:Ze})]})},ce=n(45464),de=n(31741),he=n(4901),ve=n(70816),fe=n.n(ve),pe={type:"product"};function Ze(e){var t,n,a,o=e.parentId,l=(e.type,(0,i.$)().t),s=(0,v.useContext)(I._).setIsModalVisible,d=(0,v.useState)(!1),h=(0,c.Z)(d,2),p=h[0],Z=h[1],m=(0,v.useState)(null),x=(0,c.Z)(m,2),b=x[0],S=x[1],M=(0,v.useState)(null),A=(0,c.Z)(M,2),P=A[0],q=A[1],N=(0,H.I0)(),O=(0,r.s0)(),E=(0,H.v9)((function(e){return e.menu}),H.wU).activeMenu,$=(0,H.v9)((function(e){return e.requestModels}),H.wU),B=$.data,F=$.meta,L=$.loading,R=$.params,W=E.data,Q={search:null===W||void 0===W?void 0:W.search,sort:null===W||void 0===W?void 0:W.sort,column:null===W||void 0===W?void 0:W.column,perPage:null===W||void 0===W?void 0:W.perPage,page:null===W||void 0===W?void 0:W.page,parent_id:o,type:"product"},G=(0,v.useState)([{title:l("created.by"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:function(e){return(0,Y.jsxs)("span",{children:[e.firstname," ",null===e||void 0===e?void 0:e.lastname," ",(0,Y.jsx)("a",{href:"tel:".concat(null===e||void 0===e?void 0:e.phone),children:null===e||void 0===e?void 0:e.phone})]})}},{title:l("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return fe()(e).format("YYYY-MM-DD HH:mm")}},{title:l("name"),dataIndex:"name",key:"name",is_show:!0,render:function(e,t){var n;return(0,Y.jsxs)(j.Z,{children:[null===(n=t.model.translation)||void 0===n?void 0:n.title," ",(0,Y.jsx)(he.WFu,{})," ",t.data["title[".concat(t.model.translation.locale,"]")]]})}},{title:l("image"),dataIndex:"img",key:"img",is_show:!0,render:function(e,t){var n,a,i;return(0,Y.jsxs)(j.Z,{children:[(0,Y.jsx)(g.Z,{src:(0,ce.Z)(t.model.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,Y.jsx)(he.WFu,{}),(0,Y.jsx)(g.Z,{src:(0,ce.Z)((null===(n=t.data.images)||void 0===n||null===(a=n.at(0))||void 0===a?void 0:a.url)||(null===(i=t.data.images)||void 0===i?void 0:i.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:l("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,t){return(0,Y.jsx)("div",{children:"pending"===e?(0,Y.jsx)(y.Z,{color:"blue",children:l(e)}):"canceled"===e?(0,Y.jsx)(y.Z,{color:"error",children:l(e)}):(0,Y.jsx)(y.Z,{color:"cyan",children:l(e)})})}},{title:l("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,t){return(0,Y.jsxs)(j.Z,{children:[(0,Y.jsx)(w.Z,{icon:(0,Y.jsx)(f.Z,{}),onClick:function(){return function(e){N((0,V.bL)({url:"product-request/".concat(e.id),id:"product_request_edit",name:l("product.request.edit")})),O("/product-request/".concat(e.id))}(t)}}),(0,Y.jsx)(w.Z,{icon:(0,Y.jsx)(de.Z,{}),onClick:function(e){e.stopPropagation(),function(e){N((0,V.bL)({url:"product-request-details/".concat(e.id),id:"product_request_details",name:l("product.request.details")})),O("/product-request-details/".concat(e.id))}(t)}}),(0,Y.jsx)(w.Z,{onClick:function(){return q(t)},children:l("change.status")})]})}}]),J=(0,c.Z)(G,2),te=J[0],ne=J[1];(0,v.useEffect)((function(){N((0,U.aw)(Q)),N((0,V.A_)(E))}),[E.refetch]),(0,T.Z)((function(){N((0,U.aw)(Q))}),[E.data]);var ae={selectedRowKeys:b,onChange:function(e){S(e)}};return(0,Y.jsxs)(_.Z,{title:l("requests"),extra:(0,Y.jsx)(j.Z,{wrap:!0,children:(0,Y.jsx)(ee.Z,{columns:te,setColumns:ne})}),children:[(0,Y.jsx)(C.Z,{scroll:{x:!0},rowSelection:ae,columns:null===te||void 0===te?void 0:te.filter((function(e){return e.is_show})),dataSource:B,pagination:{pageSize:R.perPage,page:(null===(t=E.data)||void 0===t?void 0:t.page)||1,total:F.total,defaultCurrent:null===(n=E.data)||void 0===n?void 0:n.page,current:null===(a=E.data)||void 0===a?void 0:a.page},rowKey:function(e){return e.key},onChange:function(e,t,n){var a=e.pageSize,i=e.current,r=n.field,o=n.order,l=(0,D.Z)(o);N((0,V.nc)({activeMenu:E,data:(0,u.Z)((0,u.Z)({},E.data),{},{perPage:a,page:i,column:r,sort:l})}))},loading:L}),P&&(0,Y.jsx)(X,{orderDetails:P,handleCancel:function(){return q(null)},paramsData:Q,listType:"request"}),(0,Y.jsx)(z.Z,{click:function(){Z(!0);var e={status:null===b||void 0===b?void 0:b.at(0).status};K.Z.changeStatus(null===b||void 0===b?void 0:b.at(0).id,e).then((function(){k.Am.success(l("successfully.changed")),N((0,U.aw)(pe)),s(!1),S(null)})).finally((function(){return Z(!1)}))},text:l("change.status"),setText:S,loading:p})]})}function me(){var e,t=(0,i.$)().t,n=(0,r.TH)();return(0,Y.jsxs)(a.Z,{defaultActiveKey:(null===(e=n.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,Y.jsx)(a.Z.TabPane,{tab:t("product.list"),children:(0,Y.jsx)(ue,{})},"list"),(0,Y.jsx)(a.Z.TabPane,{tab:t("requests"),children:(0,Y.jsx)(Ze,{})},"request")]})}},15386:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(1413),i=n(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},o=n(17469),l=function(e,t){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:r}))};l.displayName="ClearOutlined";var s=i.forwardRef(l)},99587:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(1413),i=n(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},o=n(17469),l=function(e,t){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:r}))};l.displayName="TableOutlined";var s=i.forwardRef(l)}}]);